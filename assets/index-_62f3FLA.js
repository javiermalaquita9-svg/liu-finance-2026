(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function I0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Nb(){if(F_)return vl;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=e,vl.jsx=i,vl.jsxs=i,vl}var G_;function Ib(){return G_||(G_=1,Vd.exports=Nb()),Vd.exports}var E=Ib(),jd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Db(){if(Q_)return Ae;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,L={};function ae(V,Y,te){this.props=V,this.context=Y,this.refs=L,this.updater=te||J}ae.prototype.isReactComponent={},ae.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ae.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function oe(){}oe.prototype=ae.prototype;function he(V,Y,te){this.props=V,this.context=Y,this.refs=L,this.updater=te||J}var De=he.prototype=new oe;De.constructor=he,W(De,ae.prototype),De.isPureReactComponent=!0;var He=Array.isArray;function be(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(V,Y,te){var se=te.ref;return{$$typeof:s,type:V,key:Y,ref:se!==void 0?se:null,props:te}}function j(V,Y){return x(V.type,Y,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function O(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(te){return Y[te]})}var R=/\/+/g;function qe(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):Y.toString(36)}function ot(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,te,se,_e){var ge=typeof V;(ge==="undefined"||ge==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case s:case e:xe=!0;break;case A:return xe=V._init,G(xe(V._payload),Y,te,se,_e)}}if(xe)return _e=_e(V),xe=se===""?"."+qe(V,0):se,He(_e)?(te="",xe!=null&&(te=xe.replace(R,"$&/")+"/"),G(_e,Y,te,"",function(mi){return mi})):_e!=null&&(S(_e)&&(_e=j(_e,te+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+xe)),Y.push(_e)),1;xe=0;var vt=se===""?".":se+":";if(He(V))for(var lt=0;lt<V.length;lt++)se=V[lt],ge=vt+qe(se,lt),xe+=G(se,Y,te,ge,_e);else if(lt=B(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(se=V.next()).done;)se=se.value,ge=vt+qe(se,lt++),xe+=G(se,Y,te,ge,_e);else if(ge==="object"){if(typeof V.then=="function")return G(ot(V),Y,te,se,_e);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ie(V,Y,te){if(V==null)return V;var se=[],_e=0;return G(V,se,"","",function(ge){return Y.call(te,ge,_e++)}),se}function de(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(te){(V._status===0||V._status===-1)&&(V._status=1,V._result=te)},function(te){(V._status===0||V._status===-1)&&(V._status=2,V._result=te)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Oe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Fe={map:ie,forEach:function(V,Y,te){ie(V,function(){Y.apply(this,arguments)},te)},count:function(V){var Y=0;return ie(V,function(){Y++}),Y},toArray:function(V){return ie(V,function(Y){return Y})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=w,Ae.Children=Fe,Ae.Component=ae,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=he,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,Y,te){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=W({},V.props),_e=V.key;if(Y!=null)for(ge in Y.key!==void 0&&(_e=""+Y.key),Y)!C.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(se[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)se.children=te;else if(1<ge){for(var xe=Array(ge),vt=0;vt<ge;vt++)xe[vt]=arguments[vt+2];se.children=xe}return x(V.type,_e,se)},Ae.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ae.createElement=function(V,Y,te){var se,_e={},ge=null;if(Y!=null)for(se in Y.key!==void 0&&(ge=""+Y.key),Y)C.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=Y[se]);var xe=arguments.length-2;if(xe===1)_e.children=te;else if(1<xe){for(var vt=Array(xe),lt=0;lt<xe;lt++)vt[lt]=arguments[lt+2];_e.children=vt}if(V&&V.defaultProps)for(se in xe=V.defaultProps,xe)_e[se]===void 0&&(_e[se]=xe[se]);return x(V,ge,_e)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:g,render:V}},Ae.isValidElement=S,Ae.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:de}},Ae.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},Ae.startTransition=function(V){var Y=D.T,te={};D.T=te;try{var se=V(),_e=D.S;_e!==null&&_e(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(be,Oe)}catch(ge){Oe(ge)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),D.T=Y}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(V){return D.H.use(V)},Ae.useActionState=function(V,Y,te){return D.H.useActionState(V,Y,te)},Ae.useCallback=function(V,Y){return D.H.useCallback(V,Y)},Ae.useContext=function(V){return D.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},Ae.useEffect=function(V,Y){return D.H.useEffect(V,Y)},Ae.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(V,Y,te){return D.H.useImperativeHandle(V,Y,te)},Ae.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},Ae.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},Ae.useMemo=function(V,Y){return D.H.useMemo(V,Y)},Ae.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},Ae.useReducer=function(V,Y,te){return D.H.useReducer(V,Y,te)},Ae.useRef=function(V){return D.H.useRef(V)},Ae.useState=function(V){return D.H.useState(V)},Ae.useSyncExternalStore=function(V,Y,te){return D.H.useSyncExternalStore(V,Y,te)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.2.3",Ae}var K_;function Rm(){return K_||(K_=1,jd.exports=Db()),jd.exports}var Ee=Rm();const Ob=I0(Ee);var kd={exports:{}},El={},Ud={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function Mb(){return Y_||(Y_=1,(function(s){function e(G,ie){var de=G.length;G.push(ie);e:for(;0<de;){var Oe=de-1>>>1,Fe=G[Oe];if(0<l(Fe,ie))G[Oe]=ie,G[de]=Fe,de=Oe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],de=G.pop();if(de!==ie){G[0]=de;e:for(var Oe=0,Fe=G.length,V=Fe>>>1;Oe<V;){var Y=2*(Oe+1)-1,te=G[Y],se=Y+1,_e=G[se];if(0>l(te,de))se<Fe&&0>l(_e,te)?(G[Oe]=_e,G[se]=de,Oe=se):(G[Oe]=te,G[Y]=de,Oe=Y);else if(se<Fe&&0>l(_e,de))G[Oe]=_e,G[se]=de,Oe=se;else break e}}return ie}function l(G,ie){var de=G.sortIndex-ie.sortIndex;return de!==0?de:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,w=null,N=3,B=!1,J=!1,W=!1,L=!1,ae=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function De(G){for(var ie=i(y);ie!==null;){if(ie.callback===null)a(y);else if(ie.startTime<=G)a(y),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(y)}}function He(G){if(W=!1,De(G),!J)if(i(_)!==null)J=!0,be||(be=!0,O());else{var ie=i(y);ie!==null&&ot(He,ie.startTime-G)}}var be=!1,D=-1,C=5,x=-1;function j(){return L?!0:!(s.unstable_now()-x<C)}function S(){if(L=!1,be){var G=s.unstable_now();x=G;var ie=!0;try{e:{J=!1,W&&(W=!1,oe(D),D=-1),B=!0;var de=N;try{t:{for(De(G),w=i(_);w!==null&&!(w.expirationTime>G&&j());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,N=w.priorityLevel;var Fe=Oe(w.expirationTime<=G);if(G=s.unstable_now(),typeof Fe=="function"){w.callback=Fe,De(G),ie=!0;break t}w===i(_)&&a(_),De(G)}else a(_);w=i(_)}if(w!==null)ie=!0;else{var V=i(y);V!==null&&ot(He,V.startTime-G),ie=!1}}break e}finally{w=null,N=de,B=!1}ie=void 0}}finally{ie?O():be=!1}}}var O;if(typeof he=="function")O=function(){he(S)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,qe=R.port2;R.port1.onmessage=S,O=function(){qe.postMessage(null)}}else O=function(){ae(S,0)};function ot(G,ie){D=ae(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var de=N;N=ie;try{return G()}finally{N=de}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=N;N=G;try{return ie()}finally{N=de}},s.unstable_scheduleCallback=function(G,ie,de){var Oe=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=de+Fe,G={id:A++,callback:ie,priorityLevel:G,startTime:de,expirationTime:Fe,sortIndex:-1},de>Oe?(G.sortIndex=de,e(y,G),i(_)===null&&G===i(y)&&(W?(oe(D),D=-1):W=!0,ot(He,de-Oe))):(G.sortIndex=Fe,e(_,G),J||B||(J=!0,be||(be=!0,O()))),G},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(G){var ie=N;return function(){var de=N;N=ie;try{return G.apply(this,arguments)}finally{N=de}}}})(Ld)),Ld}var X_;function Vb(){return X_||(X_=1,Ud.exports=Mb()),Ud.exports}var Pd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function jb(){if($_)return an;$_=1;var s=Rm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},an.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},an.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},an.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},an.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:B}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:N,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},an.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},an.requestFormReset=function(_){a.d.r(_)},an.unstable_batchedUpdates=function(_,y){return _(y)},an.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var Z_;function kb(){if(Z_)return Pd.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=jb(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function Ub(){if(J_)return El;J_=1;var s=Vb(),e=Rm(),i=kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),he=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=S&&t[S]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ae:return"Profiler";case L:return"StrictMode";case He:return"Suspense";case be:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case he:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:qe(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return qe(t(n))}catch{}}return null}var ot=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Oe=[],Fe=-1;function V(t){return{current:t}}function Y(t){0>Fe||(t.current=Oe[Fe],Oe[Fe]=null,Fe--)}function te(t,n){Fe++,Oe[Fe]=t.current,t.current=n}var se=V(null),_e=V(null),ge=V(null),xe=V(null);function vt(t,n){switch(te(ge,n),te(_e,t),te(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=d_(n),t=m_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(se),te(se,t)}function lt(){Y(se),Y(_e),Y(ge)}function mi(t){t.memoizedState!==null&&te(xe,t);var n=se.current,r=m_(n,t.type);n!==r&&(te(_e,t),te(se,r))}function ne(t){_e.current===t&&(Y(se),Y(_e)),xe.current===t&&(Y(xe),pl._currentValue=de)}var fe,Ce;function We(t){if(fe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);fe=n&&n[1]||"",Ce=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+t+Ce}var qt=!1;function jn(t,n){if(!t||qt)return"";qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){q=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{qt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?We(r):""}function pn(t,n){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==n&&n!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return jn(t.type,!1);case 11:return jn(t.type.render,!1);case 1:return jn(t.type,!0);case 31:return We("Activity");default:return""}}function Zn(t){try{var n="",r=null;do n+=pn(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var st=Object.prototype.hasOwnProperty,Et=s.unstable_scheduleCallback,pi=s.unstable_cancelCallback,jh=s.unstable_shouldYield,Jl=s.unstable_requestPaint,hn=s.unstable_now,gr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,kh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,eu=s.log,tu=s.unstable_setDisableYieldValue,Jn=null,Xt=null;function kn(t){if(typeof eu=="function"&&tu(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Jn,t)}catch{}}var Tt=Math.clz32?Math.clz32:iu,nu=Math.log,ra=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/ra|0)|0}var gi=256,yr=262144,xt=4194304;function yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=yi(o):(p&=T,p!==0?h=yi(p):r||(r=T&~t,r!==0&&(h=yi(r))))):(T=o&~f,T!==0?h=yi(T):p!==0?h=yi(p):r||(r=o&~t,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function _r(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-Tt(r),X=1<<Q;T[Q]=0,I[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}r&=~X}o!==0&&vr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function vr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Eo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Tt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function To(t,n){var r=n&-n;return r=(r&42)!==0?1:Er(r),(r&(t.suspendedLanes|n))!==0?0:r}function Er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function ei(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ti=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ti,Ht="__reactProps$"+ti,Ei="__reactContainer$"+ti,aa="__reactEvents$"+ti,Ph="__reactListeners$"+ti,au="__reactHandles$"+ti,ou="__reactResources$"+ti,Ti="__reactMarker$"+ti;function oa(t){delete t[Ct],delete t[Ht],delete t[aa],delete t[Ph],delete t[au]}function bi(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=T_(t);t!==null;){if(r=t[Ct])return r;t=T_(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[Ct]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rt(t){t[Ti]=!0}var bo=new Set,So={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(So[t]=n,t=0;t<n.length;t++)bo.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},xo={};function lu(t){return st.call(xo,t)?!0:st.call(wo,t)?!1:Ao.test(t)?xo[t]=!0:(wo[t]=!0,!1)}function la(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function xn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=Es(t)?"checked":"value";t._valueTracker=Co(t,n,""+t[n])}}function Tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Es(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function gn(t){return t.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,r,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ro(t,p,Ft(n)):r!=null?Ro(t,p,Ft(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function uu(t,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),$e(t)}function Ro(t,n,r){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ts(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function bs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ot(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),$e(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Io(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(t,f,n[f])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var Do=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,Ci=null;function Sr(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(a(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Tr(o)}break e;case"textarea":cu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ts(t,!!r.multiple,n,!1)}}}var fa=!1;function ws(t,n,r){if(fa)return t(n,r);fa=!0;try{var o=t(n);return o}finally{if(fa=!1,(As!==null||Ci!==null)&&(rc(),As&&(n=As,t=Ci,Ci=As=null,Sr(n),t)))for(n=0;n<t.length;n++)Sr(t[n])}}function ii(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Ht]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Pn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ar=!1}var Ri=null,Oo=null,wr=null;function Mo(){if(wr)return wr;var t,n=Oo,r=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return wr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function si(){return!1}function $t(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:si,this.isPropagationStopped=si,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=$t(Yi),xs=w({},Yi,{view:0,detail:0}),Vo=$t(xs),Cs,da,Ii,ma=w({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Cs=t.screenX-Ii.screenX,da=t.screenY-Ii.screenY):da=Cs=0,Ii=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:da}}),jo=$t(ma),Cr=w({},ma,{dataTransfer:0}),du=$t(Cr),mu=w({},xs,{relatedTarget:0}),Rr=$t(mu),ko=w({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=$t(ko),pa=w({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=$t(pa),yu=w({},Yi,{data:0}),Di=$t(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Rs(){return Tu}var fn=w({},xs,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=$t(fn),Su=w({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=$t(Su),u=w({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=$t(u),v=w({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=$t(v),U=w({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=$t(U),ee=w({},Yi,{newState:0,oldState:0}),Re=$t(ee),bt=[9,13,27,32],Ke=Pn&&"CompositionEvent"in window,dt=null;Pn&&"documentMode"in document&&(dt=document.documentMode);var zn=Pn&&"TextEvent"in window&&!dt,Oi=Pn&&(!Ke||dt&&8<dt&&11>=dt),ri=" ",ai=!1;function Nr(t,n){switch(t){case"keyup":return bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function WE(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return t=n.data,t===ri&&ai?null:t;default:return null}}function eT(t,n){if(ya)return t==="compositionend"||!Ke&&Nr(t,n)?(t=Mo(),wr=Oo=Ri=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tT[t.type]:n==="textarea"}function wp(t,n,r,o){As?Ci?Ci.push(o):Ci=[o]:As=o,n=fc(n,"onChange"),0<n.length&&(r=new Ni("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Uo=null,Lo=null;function nT(t){o_(t,0)}function Au(t){var n=wn(t);if(Tr(n))return t}function xp(t,n){if(t==="change")return n}var Cp=!1;if(Pn){var zh;if(Pn){var Bh="oninput"in document;if(!Bh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Bh=typeof Rp.oninput=="function"}zh=Bh}else zh=!1;Cp=zh&&(!document.documentMode||9<document.documentMode)}function Np(){Uo&&(Uo.detachEvent("onpropertychange",Ip),Lo=Uo=null)}function Ip(t){if(t.propertyName==="value"&&Au(Lo)){var n=[];wp(n,Lo,t,Ln(t)),ws(nT,n)}}function iT(t,n,r){t==="focusin"?(Np(),Uo=n,Lo=r,Uo.attachEvent("onpropertychange",Ip)):t==="focusout"&&Np()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Lo)}function rT(t,n){if(t==="click")return Au(n)}function aT(t,n){if(t==="input"||t==="change")return Au(n)}function oT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:oT;function Po(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!st.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,n){var r=Dp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dp(r)}}function Mp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xi(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lT=Pn&&"documentMode"in document&&11>=document.documentMode,_a=null,Hh=null,zo=null,Fh=!1;function jp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||_a==null||_a!==xi(o)||(o=_a,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=fc(Hh,"onSelect"),0<o.length&&(n=new Ni("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=_a)))}function Ir(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var va={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Gh={},kp={};Pn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Dr(t){if(Gh[t])return Gh[t];if(!va[t])return t;var n=va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kp)return Gh[t]=n[r];return t}var Up=Dr("animationend"),Lp=Dr("animationiteration"),Pp=Dr("animationstart"),uT=Dr("transitionrun"),cT=Dr("transitionstart"),hT=Dr("transitioncancel"),zp=Dr("transitionend"),Bp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function oi(t,n){Bp.set(t,n),Ai(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Ea=0,Kh=0;function xu(){for(var t=Ea,n=Kh=Ea=0;n<t;){var r=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&qp(r,h,f)}}function Cu(t,n,r,o){Bn[Ea++]=t,Bn[Ea++]=n,Bn[Ea++]=r,Bn[Ea++]=o,Kh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Yh(t,n,r,o){return Cu(t,n,r,o),Ru(t)}function Or(t,n){return Cu(t,null,null,n),Ru(t)}function qp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ru(t){if(50<ll)throw ll=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ta={};function fT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,o){return new fT(t,n,r,o)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Hp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Xh(t)&&(p=1);else if(typeof t=="string")p=yb(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Rn(31,r,n,h),t.elementType=x,t.lanes=f,t;case W:return Mr(r.children,h,f,n);case L:p=8,h|=24;break;case ae:return t=Rn(12,r,n,h|2),t.elementType=ae,t.lanes=f,t;case He:return t=Rn(13,r,n,h),t.elementType=He,t.lanes=f,t;case be:return t=Rn(19,r,n,h),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:p=10;break e;case oe:p=9;break e;case De:p=11;break e;case D:p=14;break e;case C:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Rn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Mr(t,n,r,o){return t=Rn(7,t,o,n),t.lanes=r,t}function $h(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function Fp(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gp=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var r=Gp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Zn(n)},Gp.set(t,n),n)}return{value:t,source:n,stack:Zn(n)}}var ba=[],Sa=0,Iu=null,Bo=0,Hn=[],Fn=0,Ns=null,Mi=1,Vi="";function Zi(t,n){ba[Sa++]=Bo,ba[Sa++]=Iu,Iu=t,Bo=n}function Qp(t,n,r){Hn[Fn++]=Mi,Hn[Fn++]=Vi,Hn[Fn++]=Ns,Ns=t;var o=Mi;t=Vi;var h=32-Tt(o)-1;o&=~(1<<h),r+=1;var f=32-Tt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-Tt(n)+h|r<<h|o,Vi=f+t}else Mi=1<<f|r<<h|o,Vi=t}function Jh(t){t.return!==null&&(Zi(t,1),Qp(t,1,0))}function Wh(t){for(;t===Iu;)Iu=ba[--Sa],ba[Sa]=null,Bo=ba[--Sa],ba[Sa]=null;for(;t===Ns;)Ns=Hn[--Fn],Hn[Fn]=null,Vi=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null}function Kp(t,n){Hn[Fn++]=Mi,Hn[Fn++]=Vi,Hn[Fn++]=Ns,Mi=n.id,Vi=n.overflow,Ns=t}var Zt=null,ut=null,ze=!1,Is=null,Gn=!1,ef=Error(a(519));function Ds(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(qn(n,t)),ef}function Yp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ct]=t,n[Ht]=o,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<cl.length;r++)Ve(cl[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),bs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||h_(n.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Ds(t,!0)}function Xp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Zt=Zt.return}}function Aa(t){if(t!==Zt)return!1;if(!ze)return Xp(t),ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&ut&&Ds(t),Xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=E_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=E_(t)}else n===27?(n=ut,Gs(t.type)?(t=Ad,Ad=null,ut=t):ut=n):ut=Zt?Kn(t.stateNode.nextSibling):null;return!0}function Vr(){ut=Zt=null,ze=!1}function tf(){var t=Is;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Is=null),t}function qo(t){Is===null?Is=[t]:Is.push(t)}var nf=V(null),jr=null,Ji=null;function Os(t,n,r){te(nf,n._currentValue),n._currentValue=r}function Wi(t){t._currentValue=nf.current,Y(nf)}function sf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),sf(f.return,r,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),sf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function wa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Cn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===xe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}h=h.return}t!==null&&rf(n,t,r,o),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){jr=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return $p(jr,t)}function Ou(t,n){return jr===null&&kr(t),$p(t,n)}function $p(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ji===null){if(t===null)throw Error(a(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return r}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},mT=s.unstable_scheduleCallback,pT=s.unstable_NormalPriority,It={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new dT,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&mT(pT,function(){t.controller.abort()})}var Fo=null,of=0,xa=0,Ca=null;function gT(t,n){if(Fo===null){var r=Fo=[];of=0,xa=cd(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Zp,Zp),n}function Zp(){if(--of===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Fo;Fo=null,xa=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Jp=G.S;G.S=function(t,n){jy=hn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gT(t,n),Jp!==null&&Jp(t,n)};var Ur=V(null);function lf(){var t=Ur.current;return t!==null?t:rt.pooledCache}function Mu(t,n){n===null?te(Ur,Ur.current):te(Ur,n.pool)}function Wp(){var t=lf();return t===null?null:{parent:It._currentValue,pool:t}}var Ra=Error(a(460)),uf=Error(a(474)),Vu=Error(a(542)),ju={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t;default:if(typeof n.status=="string")n.then(ni,ni);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t}throw Pr=n,Ra}}function Lr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pr=r,Ra):r}}var Pr=null;function ng(){if(Pr===null)throw Error(a(459));var t=Pr;return Pr=null,t}function ig(t){if(t===Ra||t===Vu)throw Error(a(483))}var Na=null,Go=0;function ku(t){var n=Go;return Go+=1,Na===null&&(Na=[]),tg(Na,t,n)}function Qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){function n(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function r(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=$i(k,M),k.index=0,k.sibling=null,k}function f(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,P,K){return M===null||M.tag!==6?(M=$h(P,k.mode,K),M.return=k,M):(M=h(M,P),M.return=k,M)}function I(k,M,P,K){var me=P.type;return me===W?Q(k,M,P.props.children,K,P.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Lr(me)===M.type)?(M=h(M,P.props),Qo(M,P),M.return=k,M):(M=Nu(P.type,P.key,P.props,null,k.mode,K),Qo(M,P),M.return=k,M)}function z(k,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Zh(P,k.mode,K),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function Q(k,M,P,K,me){return M===null||M.tag!==7?(M=Mr(P,k.mode,K,me),M.return=k,M):(M=h(M,P),M.return=k,M)}function X(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$h(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return P=Nu(M.type,M.key,M.props,null,k.mode,P),Qo(P,M),P.return=k,P;case J:return M=Zh(M,k.mode,P),M.return=k,M;case C:return M=Lr(M),X(k,M,P)}if(ot(M)||O(M))return M=Mr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return X(k,ku(M),P);if(M.$$typeof===he)return X(k,Ou(k,M),P);Uu(k,M)}return null}function q(k,M,P,K){var me=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return me!==null?null:T(k,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===me?I(k,M,P,K):null;case J:return P.key===me?z(k,M,P,K):null;case C:return P=Lr(P),q(k,M,P,K)}if(ot(P)||O(P))return me!==null?null:Q(k,M,P,K,null);if(typeof P.then=="function")return q(k,M,ku(P),K);if(P.$$typeof===he)return q(k,M,Ou(k,P),K);Uu(k,P)}return null}function F(k,M,P,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(M,k,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?P:K.key)||null,I(M,k,K,me);case J:return k=k.get(K.key===null?P:K.key)||null,z(M,k,K,me);case C:return K=Lr(K),F(k,M,P,K,me)}if(ot(K)||O(K))return k=k.get(P)||null,Q(M,k,K,me,null);if(typeof K.then=="function")return F(k,M,P,ku(K),me);if(K.$$typeof===he)return F(k,M,P,Ou(M,K),me);Uu(M,K)}return null}function le(k,M,P,K){for(var me=null,Ge=null,ue=M,Ie=M=0,ke=null;ue!==null&&Ie<P.length;Ie++){ue.index>Ie?(ke=ue,ue=null):ke=ue.sibling;var Qe=q(k,ue,P[Ie],K);if(Qe===null){ue===null&&(ue=ke);break}t&&ue&&Qe.alternate===null&&n(k,ue),M=f(Qe,M,Ie),Ge===null?me=Qe:Ge.sibling=Qe,Ge=Qe,ue=ke}if(Ie===P.length)return r(k,ue),ze&&Zi(k,Ie),me;if(ue===null){for(;Ie<P.length;Ie++)ue=X(k,P[Ie],K),ue!==null&&(M=f(ue,M,Ie),Ge===null?me=ue:Ge.sibling=ue,Ge=ue);return ze&&Zi(k,Ie),me}for(ue=o(ue);Ie<P.length;Ie++)ke=F(ue,k,Ie,P[Ie],K),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?Ie:ke.key),M=f(ke,M,Ie),Ge===null?me=ke:Ge.sibling=ke,Ge=ke);return t&&ue.forEach(function($s){return n(k,$s)}),ze&&Zi(k,Ie),me}function ye(k,M,P,K){if(P==null)throw Error(a(151));for(var me=null,Ge=null,ue=M,Ie=M=0,ke=null,Qe=P.next();ue!==null&&!Qe.done;Ie++,Qe=P.next()){ue.index>Ie?(ke=ue,ue=null):ke=ue.sibling;var $s=q(k,ue,Qe.value,K);if($s===null){ue===null&&(ue=ke);break}t&&ue&&$s.alternate===null&&n(k,ue),M=f($s,M,Ie),Ge===null?me=$s:Ge.sibling=$s,Ge=$s,ue=ke}if(Qe.done)return r(k,ue),ze&&Zi(k,Ie),me;if(ue===null){for(;!Qe.done;Ie++,Qe=P.next())Qe=X(k,Qe.value,K),Qe!==null&&(M=f(Qe,M,Ie),Ge===null?me=Qe:Ge.sibling=Qe,Ge=Qe);return ze&&Zi(k,Ie),me}for(ue=o(ue);!Qe.done;Ie++,Qe=P.next())Qe=F(ue,k,Ie,Qe.value,K),Qe!==null&&(t&&Qe.alternate!==null&&ue.delete(Qe.key===null?Ie:Qe.key),M=f(Qe,M,Ie),Ge===null?me=Qe:Ge.sibling=Qe,Ge=Qe);return t&&ue.forEach(function(Rb){return n(k,Rb)}),ze&&Zi(k,Ie),me}function it(k,M,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var me=P.key;M!==null;){if(M.key===me){if(me=P.type,me===W){if(M.tag===7){r(k,M.sibling),K=h(M,P.props.children),K.return=k,k=K;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Lr(me)===M.type){r(k,M.sibling),K=h(M,P.props),Qo(K,P),K.return=k,k=K;break e}r(k,M);break}else n(k,M);M=M.sibling}P.type===W?(K=Mr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Nu(P.type,P.key,P.props,null,k.mode,K),Qo(K,P),K.return=k,k=K)}return p(k);case J:e:{for(me=P.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){r(k,M.sibling),K=h(M,P.children||[]),K.return=k,k=K;break e}else{r(k,M);break}else n(k,M);M=M.sibling}K=Zh(P,k.mode,K),K.return=k,k=K}return p(k);case C:return P=Lr(P),it(k,M,P,K)}if(ot(P))return le(k,M,P,K);if(O(P)){if(me=O(P),typeof me!="function")throw Error(a(150));return P=me.call(P),ye(k,M,P,K)}if(typeof P.then=="function")return it(k,M,ku(P),K);if(P.$$typeof===he)return it(k,M,Ou(k,P),K);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(r(k,M.sibling),K=h(M,P),K.return=k,k=K):(r(k,M),K=$h(P,k.mode,K),K.return=k,k=K),p(k)):r(k,M)}return function(k,M,P,K){try{Go=0;var me=it(k,M,P,K);return Na=null,me}catch(ue){if(ue===Ra||ue===Vu)throw ue;var Ge=Rn(29,ue,null,k.mode);return Ge.lanes=K,Ge.return=k,Ge}finally{}}}var zr=sg(!0),rg=sg(!1),Ms=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(t),qp(t,null,r),n}return Cu(t,o,n,r),Ru(t)}function Ko(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Eo(t,r)}}function ff(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function Yo(){if(df){var t=Ca;if(t!==null)throw t}}function Xo(t,n,r,o){df=!1;var h=t.updateQueue;Ms=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,Q=z=I=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(je&q)===q:(o&q)===q){q!==0&&q===xa&&(df=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=t,ye=T;q=n;var it=r;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){X=le.call(it,X,q);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,q=typeof le=="function"?le.call(it,X,q):le,q==null)break e;X=w({},X,q);break e;case 2:Ms=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,I=X):Q=Q.next=F,p|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),zs|=p,t.lanes=p,t.memoizedState=X}}function ag(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function og(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ag(r[t],n)}var Ia=V(null),Lu=V(0);function lg(t,n){t=ls,te(Lu,t),te(Ia,n),ls=t|n.baseLanes}function mf(){te(Lu,ls),te(Ia,Ia.current)}function pf(){ls=Lu.current,Y(Ia),Y(Lu)}var Nn=V(null),Qn=null;function ks(t){var n=t.alternate;te(St,St.current&1),te(Nn,t),Qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Qn=t)}function gf(t){te(St,St.current),te(Nn,t),Qn===null&&(Qn=t)}function ug(t){t.tag===22?(te(St,St.current),te(Nn,t),Qn===null&&(Qn=t)):Us()}function Us(){te(St,St.current),te(Nn,Nn.current)}function In(t){Y(Nn),Qn===t&&(Qn=null),Y(St)}var St=V(0);function Pu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,Ne=null,tt=null,Dt=null,zu=!1,Da=!1,Br=!1,Bu=0,$o=0,Oa=null,_T=0;function yt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Cn(t[r],n[r]))return!1;return!0}function _f(t,n,r,o,h,f){return es=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Qg:Mf,Br=!1,f=r(o,h),Br=!1,Da&&(f=hg(n,r,o,h)),cg(t),f}function cg(t){G.H=Wo;var n=tt!==null&&tt.next!==null;if(es=0,Dt=tt=Ne=null,zu=!1,$o=0,Oa=null,n)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Du(t)&&(Ot=!0))}function hg(t,n,r,o){Ne=t;var h=0;do{if(Da&&(Oa=null),$o=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,Dt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Kg,f=n(r,o)}while(Da);return f}function vT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Zo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function vf(){var t=Bu!==0;return Bu=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}es=0,Dt=tt=Ne=null,Da=!1,$o=Bu=0,Oa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function At(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Dt===null?Ne.memoizedState:Dt.next;if(n!==null)Dt=n,tt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var n=$o;return $o+=1,Oa===null&&(Oa=[]),t=tg(Oa,t,n),n=Ne,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Qg:Mf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===he)return Jt(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=j;return n.index++,r}function ts(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=At();return Sf(n,tt,t)}function Sf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(je&X)===X:(es&X)===X){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===xa&&(Q=!0);else if((es&q)===q){z=z.next,q===xa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=X,p=f):I=I.next=X,Ne.lanes|=q,zs|=q;X=z.action,Br&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else q={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=q,p=f):I=I.next=q,Ne.lanes|=X,zs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!Cn(f,t.memoizedState)&&(Ot=!0,Q&&(r=Ca,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Af(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Cn(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function fg(t,n,r){var o=Ne,h=At(),f=ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Cn((tt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ot=!0),h=h.queue,Cf(pg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},mg.bind(null,o,h,r,n),null),rt===null)throw Error(a(349));f||(es&127)!==0||dg(o,n,r)}return r}function dg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=qu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function mg(t,n,r,o){n.value=r,n.getSnapshot=o,gg(n)&&yg(t)}function pg(t,n,r){return r(function(){gg(n)&&yg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Cn(t,r)}catch{return!0}}function yg(t){var n=Or(t,2);n!==null&&bn(n,t,2)}function wf(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),Br){kn(!0);try{r()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function _g(t,n,r,o){return t.baseState=r,Sf(t,tt,typeof o=="function"?o:ts)}function ET(t,n,r,o,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,vg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function vg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=r(h,o),I=G.S;I!==null&&I(p,T),Eg(t,n,T)}catch(z){xf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),Eg(t,n,f)}catch(z){xf(t,n,z)}}function Eg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tg(t,n,o)},function(o){return xf(t,n,o)}):Tg(t,n,r)}function Tg(t,n,r){n.status="fulfilled",n.value=r,bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,vg(t,r)))}function xf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==o)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sg(t,n){return n}function Ag(t,n){if(ze){var r=rt.formState;if(r!==null){e:{var o=Ne;if(ze){if(ut){t:{for(var h=ut,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Kn(h.nextSibling),o=h.data==="F!";break e}}Ds(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},r.queue=o,r=Hg.bind(null,Ne,o),o.dispatch=r,o=wf(!1),f=Of.bind(null,Ne,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=ET.bind(null,Ne,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function wg(t){var n=At();return xg(n,tt,t)}function xg(t,n,r){if(n=Sf(t,n,Sg)[0],t=Fu(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(p){throw p===Ra?Vu:p}else o=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ma(9,{destroy:void 0},TT.bind(null,h,r),null)),[o,f,t]}function TT(t,n){t.action=n}function Cg(t){var n=At(),r=tt;if(r!==null)return xg(n,r,t);At(),n=n.memoizedState,r=At();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ma(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=qu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Rg(){return At().memoizedState}function Gu(t,n,r,o){var h=dn();Ne.flags|=t,h.memoizedState=Ma(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(t,n,r,o){var h=At();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&yf(o,tt.memoizedState.deps)?h.memoizedState=Ma(n,f,r,o):(Ne.flags|=t,h.memoizedState=Ma(1|n,f,r,o))}function Ng(t,n){Gu(8390656,8,t,n)}function Cf(t,n){Qu(2048,8,t,n)}function bT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=qu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ig(t){var n=At().memoizedState;return bT({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dg(t,n){return Qu(4,2,t,n)}function Og(t,n){return Qu(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vg(t,n,r){r=r!=null?r.concat([t]):null,Qu(4,4,Mg.bind(null,n,t),r)}function Rf(){}function jg(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function kg(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),Br){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o}function Nf(t,n,r){return r===void 0||(es&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Uy(),Ne.lanes|=t,zs|=t,r)}function Ug(t,n,r,o){return Cn(r,n)?r:Ia.current!==null?(t=Nf(t,r,o),Cn(t,n)||(Ot=!0),t):(es&42)===0||(es&1073741824)!==0&&(je&261930)===0?(Ot=!0,t.memoizedState=r):(t=Uy(),Ne.lanes|=t,zs|=t,n)}function Lg(t,n,r,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Of(t,!1,n,r);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=yT(I,o);Jo(t,n,Q,Mn(t))}else Jo(t,n,o,Mn(t))}catch(X){Jo(t,n,{then:function(){},status:"rejected",reason:X},Mn())}finally{ie.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function ST(){}function If(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Pg(t).queue;Lg(t,h,n,de,r===null?ST:function(){return zg(t),r(o)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zg(t){var n=Pg(t);n.next===null&&(n=t.alternate.memoizedState),Jo(t,n.next.queue,{},Mn())}function Df(){return Jt(pl)}function Bg(){return At().memoizedState}function qg(){return At().memoizedState}function AT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mn();t=Vs(r);var o=js(n,t,r);o!==null&&(bn(o,n,r),Ko(o,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function wT(t,n,r){var o=Mn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Fg(n,r):(r=Yh(t,n,r,o),r!==null&&(bn(r,t,o),Gg(r,n,o)))}function Hg(t,n,r){var o=Mn();Jo(t,n,r,o)}function Jo(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Fg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,p))return Cu(t,n,h,0),rt===null&&xu(),!1}catch{}finally{}if(r=Yh(t,n,h,o),r!==null)return bn(r,t,o),Gg(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Yh(t,r,o,2),n!==null&&bn(n,t,2)}function Ku(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Fg(t,n){Da=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Eo(t,r)}}var Wo={readContext:Jt,use:Hu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Wo.useEffectEvent=yt;var Qg={readContext:Jt,use:Hu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Gu(4194308,4,Mg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var o=t();if(Br){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Br){kn(!0);try{r(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=wT.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Hg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=dn();return Nf(r,t,n)},useTransition:function(){var t=wf(!1);return t=Lg.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ne,h=dn();if(ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),rt===null)throw Error(a(349));(je&127)!==0||dg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,t),[t]),o.flags|=2048,Ma(9,{destroy:void 0},mg.bind(null,o,f,r,n),null),r},useId:function(){var t=dn(),n=rt.identifierPrefix;if(ze){var r=Vi,o=Mi;r=(o&~(1<<32-Tt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=_T++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return dn().memoizedState=AT.bind(null,Ne)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:Jt,use:Hu,useCallback:jg,useContext:Jt,useEffect:Cf,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:kg,useReducer:Fu,useRef:Rg,useState:function(){return Fu(ts)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=At();return Ug(r,tt.memoizedState,t,n)},useTransition:function(){var t=Fu(ts)[0],n=At().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Df,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var r=At();return _g(r,tt,t,n)},useMemoCache:bf,useCacheRefresh:qg};Mf.useEffectEvent=Ig;var Kg={readContext:Jt,use:Hu,useCallback:jg,useContext:Jt,useEffect:Cf,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:kg,useReducer:Af,useRef:Rg,useState:function(){return Af(ts)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=At();return tt===null?Nf(r,t,n):Ug(r,tt.memoizedState,t,n)},useTransition:function(){var t=Af(ts)[0],n=At().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Df,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=At();return tt!==null?_g(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:qg};Kg.useEffectEvent=Ig;function Vf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Mn(),h=Vs(o);h.payload=n,r!=null&&(h.callback=r),n=js(t,h,o),n!==null&&(bn(n,t,o),Ko(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Mn(),h=Vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=js(t,h,o),n!==null&&(bn(n,t,o),Ko(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Mn(),o=Vs(r);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,r),n!==null&&(bn(n,t,r),Ko(n,t,r))}};function Yg(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Po(r,o)||!Po(h,f):!0}function Xg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function qr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function $g(t){wu(t)}function Zg(t){console.error(t)}function Jg(t){wu(t)}function Yu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,r){return r=Vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(t,n)},r}function ey(t){return t=Vs(t),t.tag=3,t}function ty(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Wg(n,r,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function xT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&wa(n,r,h,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?ac():r.alternate===null&&_t===0&&(_t=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(t,o,h)),!1}throw Error(a(435,r.tag))}return od(t,o,h),ac(),!1}if(ze)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(a(422),{cause:o}),qo(qn(t,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),qo(qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=qn(o,r),h=kf(t.stateNode,o,h),ff(t,h),_t!==4&&(_t=2)),!1;var f=Error(a(520),{cause:o});if(f=qn(f,r),ol===null?ol=[f]:ol.push(f),_t!==4&&(_t=2),n===null)return!0;o=qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kf(r.stateNode,o,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ey(h),ty(h,t,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Ot=!1;function Wt(t,n,r,o){n.child=t===null?rg(n,null,r,o):zr(n,t.child,r,o)}function ny(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return kr(n),o=_f(t,n,r,p,f,h),T=vf(),t!==null&&!Ot?(Ef(t,n,h),ns(t,n,h)):(ze&&T&&Jh(n),n.flags|=1,Wt(t,n,o,h),n.child)}function iy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,sy(t,n,f,o,h)):(t=Nu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(p,o)&&t.ref===n.ref)return ns(t,n,h)}return n.flags|=1,t=$i(f,o),t.ref=n.ref,t.return=n,n.child=t}function sy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Po(f,o)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=o=f,Gf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,ns(t,n,h)}return Lf(t,n,r,o,h)}function ry(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):mf(),ug(n);else return o=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),lg(n,f),Us(),n.memoizedState=null):(t!==null&&Mu(n,null),mf(),Us());return Wt(t,n,h,r),n.child}function el(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,r,o,h){var f=lf();return f=f===null?null:{parent:It._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Mu(n,null),mf(),ug(n),t!==null&&wa(t,n,o,!0),n.childLanes=h,null}function Xu(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,r){return zr(n,t.child,null,r),t=Xu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function CT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Xu(n,o),n.lanes=536870912,el(null,t);if(gf(n),(t=ut)?(t=v_(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Fp(t),r.return=n,n.child=r,Zt=n,ut=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return Xu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ot||wa(t,n,r,!1),h=(r&t.childLanes)!==0,Ot||h){if(o=rt,o!==null&&(p=To(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Or(t,p),bn(o,t,p),Uf;ac(),n=oy(t,n,r)}else t=f.treeContext,ut=Kn(p.nextSibling),Zt=n,ze=!0,Is=null,Gn=!1,t!==null&&Kp(n,t),n=Xu(n,o),n.flags|=4096;return n}return t=$i(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function $u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,o,h){return kr(n),r=_f(t,n,r,o,void 0,h),o=vf(),t!==null&&!Ot?(Ef(t,n,h),ns(t,n,h)):(ze&&o&&Jh(n),n.flags|=1,Wt(t,n,r,h),n.child)}function ly(t,n,r,o,h,f){return kr(n),n.updateQueue=null,r=hg(n,o,r,h),cg(t),o=vf(),t!==null&&!Ot?(Ef(t,n,f),ns(t,n,f)):(ze&&o&&Jh(n),n.flags|=1,Wt(t,n,r,f),n.child)}function uy(t,n,r,o,h){if(kr(n),n.stateNode===null){var f=Ta,p=r.contextType;typeof p=="object"&&p!==null&&(f=Jt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Jt(p):Ta,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=qr(r,T);f.props=I;var z=f.context,Q=r.contextType;p=Ta,typeof Q=="object"&&Q!==null&&(p=Jt(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Xg(n,f,o,p),Ms=!1;var q=n.memoizedState;f.state=q,Xo(n,o,f,h),Yo(),z=n.memoizedState,T||q!==z||Ms?(typeof X=="function"&&(Vf(n,r,X,o),z=n.memoizedState),(I=Ms||Yg(n,r,I,o,q,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),p=n.memoizedProps,Q=qr(r,p),f.props=Q,X=n.pendingProps,q=f.context,z=r.contextType,I=Ta,typeof z=="object"&&z!==null&&(I=Jt(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||q!==I)&&Xg(n,f,o,I),Ms=!1,q=n.memoizedState,f.state=q,Xo(n,o,f,h),Yo();var F=n.memoizedState;p!==X||q!==F||Ms||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,o),F=n.memoizedState),(Q=Ms||Yg(n,r,Q,o,q,F,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=zr(n,t.child,null,h),n.child=zr(n,null,r,h)):Wt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ns(t,n,h),t}function cy(t,n,r,o){return Vr(),n.flags|=256,Wt(t,n,r,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:Wp()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=On),t}function hy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?ks(n):Us(),(t=ut)?(t=v_(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Fp(t),r.return=n,n.child=r,Zt=n,ut=null)):t=null,t===null)throw Ds(n);return Sd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Us(),h=n.mode,T=Zu({mode:"hidden",children:T},h),o=Mr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,p,r),n.memoizedState=Pf,el(null,o)):(ks(n),qf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),T=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),T=Mr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,zr(n,t.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,p,r),n.memoizedState=Pf,n=el(null,o));else if(ks(n),Sd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,qo({value:o,source:null,stack:null}),n=Hf(t,n,r)}else if(Ot||wa(t,n,r,!1),p=(r&t.childLanes)!==0,Ot||p){if(p=rt,p!==null&&(o=To(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Or(t,o),bn(p,t,o),Uf;bd(T)||ac(),n=Hf(t,n,r)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ut=Kn(T.nextSibling),Zt=n,ze=!0,Is=null,Gn=!1,t!==null&&Kp(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Us(),T=o.fallback,h=n.mode,I=t.child,z=I.sibling,o=$i(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=$i(z,T):(T=Mr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,el(null,o),o=n.child,T=t.child.memoizedState,T===null?T=zf(r):(h=T.cachePool,h!==null?(I=It._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(t,p,r),n.memoizedState=Pf,el(t.child,o)):(ks(n),r=t.child,t=r.sibling,r=$i(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return zr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,r)}function Ff(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function dy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=St.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,te(St,p),Wt(t,n,o,r),o=ze?Bo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,r,n);else if(t.tag===19)fy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Pu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),zs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(wa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=$i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=$i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function RT(t,n,r){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Os(n,It,t.memoizedState.cache),Vr();break;case 27:case 5:mi(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?hy(t,n,r):(ks(n),t=ns(t,n,r),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(wa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return dy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(St,St.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,r,n.pendingProps);case 24:Os(n,It,t.memoizedState.cache)}return ns(t,n,r)}function my(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Gf(t,r)&&(n.flags&128)===0)return Ot=!1,RT(t,n,r);Ot=(t.flags&131072)!==0}else Ot=!1,ze&&(n.flags&1048576)!==0&&Qp(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Lr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(o=qr(t,o),n.tag=1,n=uy(null,n,t,o,r)):(n.tag=0,n=Lf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=ny(null,n,t,o,r);break e}else if(h===D){n.tag=14,n=iy(null,n,t,o,r);break e}}throw n=qe(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=qr(o,n.pendingProps),uy(t,n,o,h,r);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),Xo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Os(n,It,o),o!==f.cache&&rf(n,[It],r,!0),Yo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(t,n,o,r);break e}else if(o!==h){h=qn(Error(a(424)),n),qo(h),n=cy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Kn(t.firstChild),Zt=n,ze=!0,Is=null,Gn=!0,r=rg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Vr(),o===h){n=ns(t,n,r);break e}Wt(t,n,o,r)}n=n.child}return n;case 26:return $u(t,n),t===null?(r=w_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,t=n.pendingProps,o=dc(ge.current).createElement(r),o[Ct]=n,o[Ht]=t,en(o,r,t),Rt(o),n.stateNode=o):n.memoizedState=w_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return mi(n),t===null&&ze&&(o=n.stateNode=b_(n.type,n.pendingProps,ge.current),Zt=n,Gn=!0,h=ut,Gs(n.type)?(Ad=h,ut=Kn(o.firstChild)):ut=h),Wt(t,n,n.pendingProps.children,r),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ut)&&(o=sb(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Zt=n,ut=Kn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ds(n)),mi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,vT,null,null,r),pl._currentValue=h),$u(t,n),Wt(t,n,o,r),n.child;case 6:return t===null&&ze&&((t=r=ut)&&(r=rb(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Zt=n,ut=null,t=!0):t=!1),t||Ds(n)),null;case 13:return hy(t,n,r);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=zr(n,null,o,r):Wt(t,n,o,r),n.child;case 11:return ny(t,n,n.type,n.pendingProps,r);case 7:return Wt(t,n,n.pendingProps,r),n.child;case 8:return Wt(t,n,n.pendingProps.children,r),n.child;case 12:return Wt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Wt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Jt(h),o=o(h),n.flags|=1,Wt(t,n,o,r),n.child;case 14:return iy(t,n,n.type,n.pendingProps,r);case 15:return sy(t,n,n.type,n.pendingProps,r);case 19:return dy(t,n,r);case 31:return CT(t,n,r);case 22:return ry(t,n,r,n.pendingProps);case 24:return kr(n),o=Jt(It),t===null?(h=lf(),h===null&&(h=rt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),Os(n,It,h)):((t.lanes&r)!==0&&(hf(t,n),Xo(n,null,null,r),Yo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,It,o)):(o=f.cache,Os(n,It,o),o!==h.cache&&rf(n,[It],r,!0))),Wt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function is(t){t.flags|=4}function Qf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Pr=ju,uf}else t.flags&=-16777217}function py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I_(n))if(By())t.flags|=8192;else throw Pr=ju,uf}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,Ua|=n)}function tl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function NT(t,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(It),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?is(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(is(n),f!==null?(ct(n),py(n,f)):(ct(n),Qf(n,h,null,o,r))):f?f!==t.memoizedState?(is(n),ct(n),py(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(n),ct(n),Qf(n,h,t,o,r)),null;case 27:if(ne(n),r=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=se.current,Aa(n)?Yp(n):(t=b_(h,o,r),n.stateNode=t,is(n))}return ct(n),null;case 5:if(ne(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=se.current,Aa(n))Yp(n);else{var p=dc(ge.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ct]=n,f[Ht]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(n)}}return ct(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=ge.current,Aa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||h_(t.nodeValue,r)),t||Ds(n,!0)}else t=dc(t).createTextNode(o),t[Ct]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ct(n),null);case 4:return lt(),t===null&&md(n.stateNode.containerInfo),ct(n),null;case 10:return Wi(n.type),ct(n),null;case 19:if(Y(St),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Pu(t),f!==null){for(n.flags|=128,tl(o,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Hp(r,t),r=r.sibling;return te(St,St.current&1|2),ze&&Zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&hn()>ic&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return ct(n),null}else 2*hn()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hn(),t.sibling=null,r=St.current,te(St,h?r&1|2:r&1),ze&&Zi(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return In(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Ur),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wi(It),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function IT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wi(It),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ne(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(St),null;case 4:return lt(),null;case 10:return Wi(n.type),null;case 22:case 23:return In(n),pf(),t!==null&&Y(Ur),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wi(It),null;case 25:return null;default:return null}}function gy(t,n){switch(Wh(n),n.tag){case 3:Wi(It),lt();break;case 26:case 27:case 5:ne(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(St);break;case 10:Wi(n.type);break;case 22:case 23:In(n),pf(),t!==null&&Y(Ur);break;case 24:Wi(It)}}function nl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){Je(n,n.return,T)}}function Ls(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=r,z=T;try{z()}catch(Q){Je(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){Je(n,n.return,Q)}}function yy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{og(n,r)}catch(o){Je(t,t.return,o)}}}function _y(t,n,r){r.props=qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,n,o)}}function il(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Je(t,n,h)}}function ji(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Je(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Je(t,n,h)}else r.current=null}function vy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Je(t,t.return,h)}}function Kf(t,n,r){try{var o=t.stateNode;JT(o,t.type,r,n),o[Ht]=n}catch(h){Je(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Gs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function Wu(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Gs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wu(t,n,r),t=t.sibling;t!==null;)Wu(t,n,r),t=t.sibling}function Ty(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,r),n[Ct]=t,n[Ht]=r}catch(f){Je(t,t.return,f)}}var ss=!1,Mt=!1,$f=!1,by=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function DT(t,n){if(t=t.containerInfo,yd=Ec,t=Vp(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,I=-1,z=0,Q=0,X=t,q=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===t)break t;if(q===r&&++z===h&&(T=p),q===f&&++Q===o&&(I=p),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Ec=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=qr(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Sy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:as(t,r),o&4&&nl(5,r);break;case 1:if(as(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Je(r,r.return,p)}else{var h=qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Je(r,r.return,p)}}o&64&&yy(r),o&512&&il(r,r.return);break;case 3:if(as(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{og(t,n)}catch(p){Je(r,r.return,p)}}break;case 27:n===null&&o&4&&Ty(r);case 26:case 5:as(t,r),n===null&&o&4&&vy(r),o&512&&il(r,r.return);break;case 12:as(t,r);break;case 31:as(t,r),o&4&&xy(t,r);break;case 13:as(t,r),o&4&&Cy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=zT.bind(null,r),ab(t,r))));break;case 22:if(o=r.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||Mt,h=ss;var f=Mt;ss=o,(Mt=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):as(t,r),ss=h,Mt=f}break;case 30:break;default:as(t,r)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,_n=!1;function rs(t,n,r){for(r=r.child;r!==null;)wy(t,n,r),r=r.sibling}function wy(t,n,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Jn,r)}catch{}switch(r.tag){case 26:Mt||ji(r,n),rs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Mt||ji(r,n);var o=mt,h=_n;Gs(r.type)&&(mt=r.stateNode,_n=!1),rs(t,n,r),fl(r.stateNode),mt=o,_n=h;break;case 5:Mt||ji(r,n);case 6:if(o=mt,h=_n,mt=null,rs(t,n,r),mt=o,_n=h,mt!==null)if(_n)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(r.stateNode)}catch(f){Je(r,n,f)}else try{mt.removeChild(r.stateNode)}catch(f){Je(r,n,f)}break;case 18:mt!==null&&(_n?(t=mt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ga(t)):y_(mt,r.stateNode));break;case 4:o=mt,h=_n,mt=r.stateNode.containerInfo,_n=!0,rs(t,n,r),mt=o,_n=h;break;case 0:case 11:case 14:case 15:Ls(2,r,n),Mt||Ls(4,r,n),rs(t,n,r);break;case 1:Mt||(ji(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&_y(r,n,o)),rs(t,n,r);break;case 21:rs(t,n,r);break;case 22:Mt=(o=Mt)||r.memoizedState!==null,rs(t,n,r),Mt=o;break;default:rs(t,n,r)}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(r){Je(n,n.return,r)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(r){Je(n,n.return,r)}}function OT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(a(435,t.tag))}}function ec(t,n){var r=OT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=BT.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){mt=T.stateNode,_n=!1;break e}break;case 5:mt=T.stateNode,_n=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(mt===null)throw Error(a(160));wy(f,p,h),mt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var li=null;function Ry(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),o&4&&(Ls(3,t,t.return),nl(3,t),Ls(5,t,t.return));break;case 1:vn(n,t),En(t),o&512&&(Mt||r===null||ji(r,r.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=li;if(vn(n,t),En(t),o&512&&(Mt||r===null||ji(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,r),f[Ct]=t,Rt(f),o=f;break e;case"link":var p=R_("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),en(f,o,r),h.head.appendChild(f);break;case"meta":if(p=R_("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(o),en(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ct]=t,Rt(f),o=f}t.stateNode=o}else N_(h,t.type,t.stateNode);else t.stateNode=C_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?N_(h,t.type,t.stateNode):C_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),En(t),o&512&&(Mt||r===null||ji(r,r.return)),r!==null&&o&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),En(t),o&512&&(Mt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(le){Je(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(vn(n,t),En(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){Je(t,t.return,le)}}break;case 3:if(gc=null,h=li,li=mc(n.containerInfo),vn(n,t),li=h,En(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(le){Je(t,t.return,le)}$f&&($f=!1,Ny(t));break;case 4:o=li,li=mc(t.stateNode.containerInfo),vn(n,t),En(t),li=o;break;case 12:vn(n,t),En(t);break;case 31:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=ss,Q=Mt;if(ss=z||h,Mt=Q||I,vn(n,t),Mt=Q,ss=z,En(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ss||Mt||Hr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Je(I,I.return,le)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){Je(I,I.return,le)}}}else if(n.tag===18){if(r===null){I=n;try{var F=I.stateNode;h?__(F,!0):__(I.stateNode,!1)}catch(le){Je(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(t,r))));break;case 19:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 30:break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);Wu(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(yn(p,""),r.flags&=-33);var T=Yf(t);Wu(t,T,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Yf(t);Xf(t,z,I);break;default:throw Error(a(161))}}catch(Q){Je(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&_y(n,n.return,r),Hr(n);break;case 27:fl(n.stateNode);case 26:case 5:ji(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,r),nl(4,f);break;case 1:if(os(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],T)}catch(z){Je(o,o.return,z)}}r&&p&64&&yy(f),il(f,f.return);break;case 27:Ty(f);case 26:case 5:os(h,f,r),r&&o===null&&p&4&&vy(f),il(f,f.return);break;case 12:os(h,f,r);break;case 31:os(h,f,r),r&&p&4&&xy(h,f);break;case 13:os(h,f,r),r&&p&4&&Cy(h,f);break;case 22:f.memoizedState===null&&os(h,f,r),il(f,f.return);break;case 30:break;default:os(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ho(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t))}function ui(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,r,o),n=n.sibling}function Iy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,o),h&2048&&nl(9,n);break;case 1:ui(t,n,r,o);break;case 3:ui(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){ui(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(n,n.return,I)}}else ui(t,n,r,o);break;case 31:ui(t,n,r,o);break;case 13:ui(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,o):sl(t,n):f._visibility&2?ui(t,n,r,o):(f._visibility|=2,Va(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:ui(t,n,r,o),h&2048&&Jf(n.alternate,n);break;default:ui(t,n,r,o)}}function Va(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Va(f,p,T,I,h),nl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Va(f,p,T,I,h):sl(f,p):(Q._visibility|=2,Va(f,p,T,I,h)),h&&z&2048&&Zf(p.alternate,p);break;case 24:Va(f,p,T,I,h),h&&z&2048&&Jf(p.alternate,p);break;default:Va(f,p,T,I,h)}n=n.sibling}}function sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:sl(r,o),h&2048&&Zf(o.alternate,o);break;case 24:sl(r,o),h&2048&&Jf(o.alternate,o);break;default:sl(r,o)}n=n.sibling}}var rl=8192;function ja(t,n,r){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)Dy(t,n,r),t=t.sibling}function Dy(t,n,r){switch(t.tag){case 26:ja(t,n,r),t.flags&rl&&t.memoizedState!==null&&_b(r,li,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,r);break;case 3:case 4:var o=li;li=mc(t.stateNode.containerInfo),ja(t,n,r),li=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,ja(t,n,r),rl=o):ja(t,n,r));break;default:ja(t,n,r)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Vy(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):al(t);break;default:al(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Vy(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function Vy(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Gt=o;else e:for(r=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Ay(o),o===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var MT={getCacheForType:function(t){var n=Jt(It),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Jt(It).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Me=null,je=0,Ze=0,Dn=null,Ps=!1,ka=!1,Wf=!1,ls=0,_t=0,zs=0,Fr=0,ed=0,On=0,Ua=0,ol=null,Tn=null,td=!1,nc=0,jy=0,ic=1/0,sc=null,Bs=null,Lt=0,qs=null,La=null,us=0,nd=0,id=null,ky=null,ll=0,sd=null;function Mn(){return(Ye&2)!==0&&je!==0?je&-je:G.T!==null?cd():ru()}function Uy(){if(On===0)if((je&536870912)===0||ze){var t=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),On=t}else On=536870912;return t=Nn.current,t!==null&&(t.flags|=32),On}function bn(t,n,r){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Hs(t,je,On,!1)),_r(t,r),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(Fr|=r),_t===4&&Hs(t,je,On,!1)),ki(t))}function Ly(t,n,r){if((Ye&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Wn(t,n),h=o?UT(t,n):ad(t,n,!0),f=o;do{if(h===0){ka&&!o&&Hs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!jT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=ol;var I=T.current.memoizedState.isDehydrated;if(I&&(Pa(T,p).flags|=256),p=ad(T,p,!1),p!==2){if(Wf&&!I){T.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Hs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,On,!Ps);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-hn(),10<h)){if(Hs(o,n,On,!Ps),_i(o,0,!0)!==0)break e;us=n,o.timeoutHandle=p_(Py.bind(null,o,r,Tn,sc,td,n,On,Fr,Ua,Ps,f,"Throttled",-0,0),h);break e}Py(o,r,Tn,sc,td,n,On,Fr,Ua,Ps,f,null,-0,0)}}break}while(!0);ki(t)}function Py(t,n,r,o,h,f,p,T,I,z,Q,X,q,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Dy(n,f,X);var le=(f&62914560)===f?nc-hn():(f&4194048)===f?jy-hn():0;if(le=vb(X,le),le!==null){us=f,t.cancelPendingCommit=le(Ky.bind(null,t,n,f,r,o,h,p,T,I,Q,X,null,q,F)),Hs(t,f,p,!z);return}}Ky(t,n,f,r,o,h,p,T,I)}function jT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(t,n,r,o){n&=~ed,n&=~Fr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&vr(t,r,n)}function rc(){return(Ye&6)===0?(ul(0),!1):!0}function rd(){if(Me!==null){if(Ze===0)var t=Me.return;else t=Me,Ji=jr=null,Tf(t),Na=null,Go=0,t=Me;for(;t!==null;)gy(t.alternate,t),t=t.return;Me=null}}function Pa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,tb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,rd(),rt=t,Me=r=$i(t.current,null),je=n,Ze=0,Dn=null,Ps=!1,ka=Wn(t,n),Wf=!1,Ua=On=ed=Fr=zs=_t=0,Tn=ol=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Tt(o),f=1<<h;n|=t[h],o&=~f}return ls=n,xu(),r}function zy(t,n){Ne=null,G.H=Wo,n===Ra||n===Vu?(n=ng(),Ze=3):n===uf?(n=ng(),Ze=4):Ze=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Me===null&&(_t=1,Yu(t,qn(n,t.current)))}function By(){var t=Nn.current;return t===null?!0:(je&4194048)===je?Qn===null:(je&62914560)===je||(je&536870912)!==0?t===Qn:!1}function qy(){var t=G.H;return G.H=Wo,t===null?Wo:t}function Hy(){var t=G.A;return G.A=MT,t}function ac(){_t=4,Ps||(je&4194048)!==je&&Nn.current!==null||(ka=!0),(zs&134217727)===0&&(Fr&134217727)===0||rt===null||Hs(rt,je,On,!1)}function ad(t,n,r){var o=Ye;Ye|=2;var h=qy(),f=Hy();(rt!==t||je!==n)&&(sc=null,Pa(t,n)),n=!1;var p=_t;e:do try{if(Ze!==0&&Me!==null){var T=Me,I=Dn;switch(Ze){case 8:rd(),p=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var z=Ze;if(Ze=0,Dn=null,za(t,T,I,z),r&&ka){p=0;break e}break;default:z=Ze,Ze=0,Dn=null,za(t,T,I,z)}}kT(),p=_t;break}catch(Q){zy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ji=jr=null,Ye=o,G.H=h,G.A=f,Me===null&&(rt=null,je=0,xu()),p}function kT(){for(;Me!==null;)Fy(Me)}function UT(t,n){var r=Ye;Ye|=2;var o=qy(),h=Hy();rt!==t||je!==n?(sc=null,ic=hn()+500,Pa(t,n)):ka=Wn(t,n);e:do try{if(Ze!==0&&Me!==null){n=Me;var f=Dn;t:switch(Ze){case 1:Ze=0,Dn=null,za(t,n,f,1);break;case 2:case 9:if(eg(f)){Ze=0,Dn=null,Gy(n);break}n=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),ki(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:eg(f)?(Ze=0,Dn=null,Gy(n)):(Ze=0,Dn=null,za(t,n,f,7));break;case 5:var p=null;switch(Me.tag){case 26:p=Me.memoizedState;case 5:case 27:var T=Me;if(p?I_(p):T.stateNode.complete){Ze=0,Dn=null;var I=T.sibling;if(I!==null)Me=I;else{var z=T.return;z!==null?(Me=z,oc(z)):Me=null}break t}}Ze=0,Dn=null,za(t,n,f,5);break;case 6:Ze=0,Dn=null,za(t,n,f,6);break;case 8:rd(),_t=6;break e;default:throw Error(a(462))}}LT();break}catch(Q){zy(t,Q)}while(!0);return Ji=jr=null,G.H=o,G.A=h,Ye=r,Me!==null?0:(rt=null,je=0,xu(),_t)}function LT(){for(;Me!==null&&!jh();)Fy(Me)}function Fy(t){var n=my(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?oc(t):Me=n}function Gy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Tf(n);default:gy(r,n),n=Me=Hp(n,ls),n=my(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?oc(t):Me=n}function za(t,n,r,o){Ji=jr=null,Tf(n),Na=null,Go=0;var h=n.return;try{if(xT(t,h,n,r,je)){_t=1,Yu(t,qn(r,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;_t=1,Yu(t,qn(r,t.current)),Me=null;return}n.flags&32768?(ze||o===1?t=!0:ka||(je&536870912)!==0?t=!1:(Ps=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Qy(n,Ps);return}t=n.return;var r=NT(n.alternate,n,ls);if(r!==null){Me=r;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);_t===0&&(_t=5)}function Qy(t,n){do{var r=IT(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);_t=6,Me=null}function Ky(t,n,r,o,h,f,p,T,I){t.cancelPendingCommit=null;do lc();while(Lt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Lh(t,r,f,p,T,I),t===rt&&(Me=rt=null,je=0),La=n,qs=t,us=r,nd=f,id=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qT(vs,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,p=Ye,Ye|=4;try{DT(t,n,r)}finally{Ye=p,ie.p=h,G.T=o}}Lt=1,Yy(),Xy(),$y()}}function Yy(){if(Lt===1){Lt=0;var t=qs,n=La,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Ye;Ye|=4;try{Ry(n,t);var f=_d,p=Vp(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Mp(T.ownerDocument.documentElement,T)){if(I!==null&&qh(T)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),le=T.textContent.length,ye=Math.min(I.start,le),it=I.end===void 0?ye:Math.min(I.end,le);!F.extend&&ye>it&&(p=it,it=ye,ye=p);var k=Op(T,ye),M=Op(T,it);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=X.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),ye>it?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!yd,_d=yd=null}finally{Ye=h,ie.p=o,G.T=r}}t.current=n,Lt=2}}function Xy(){if(Lt===2){Lt=0;var t=qs,n=La,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Ye;Ye|=4;try{Sy(t,n.alternate,n)}finally{Ye=h,ie.p=o,G.T=r}}Lt=3}}function $y(){if(Lt===4||Lt===3){Lt=0,Jl();var t=qs,n=La,r=us,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,La=qs=null,Zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),Qi(r),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ie.p=h}}(us&3)!==0&&lc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?ll++:(ll=0,sd=t):ll=0,ul(0)}}function Zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ho(n)))}function lc(){return Yy(),Xy(),$y(),Jy()}function Jy(){if(Lt!==5)return!1;var t=qs,n=nd;nd=0;var r=Qi(us),o=G.T,h=ie.p;try{ie.p=32>r?32:r,G.T=null,r=id,id=null;var f=qs,p=us;if(Lt=0,La=qs=null,us=0,(Ye&6)!==0)throw Error(a(331));var T=Ye;if(Ye|=4,My(f.current),Iy(f,f.current,p,r),Ye=T,ul(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{ie.p=h,G.T=o,Zy(t,n)}}function Wy(t,n,r){n=qn(r,n),n=kf(t.stateNode,n,2),t=js(t,n,2),t!==null&&(_r(t,2),ki(t))}function Je(t,n,r){if(t.tag===3)Wy(t,t,r);else for(;n!==null;){if(n.tag===3){Wy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){t=qn(r,t),r=ey(2),o=js(n,r,2),o!==null&&(ty(r,o,n,t),_r(o,2),ki(o));break}}n=n.return}}function od(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new VT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=PT.bind(null,t,n,r),n.then(t,t))}function PT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,rt===t&&(je&r)===r&&(_t===4||_t===3&&(je&62914560)===je&&300>hn()-nc?(Ye&2)===0&&Pa(t,0):ed|=r,Ua===je&&(Ua=0)),ki(t)}function e_(t,n){n===0&&(n=su()),t=Or(t,n),t!==null&&(_r(t,n),ki(t))}function zT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),e_(t,r)}function BT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),e_(t,r)}function qT(t,n){return Et(t,n)}var uc=null,Ba=null,ld=!1,cc=!1,ud=!1,Fs=0;function ki(t){t!==Ba&&t.next===null&&(Ba===null?uc=Ba=t:Ba=Ba.next=t),cc=!0,ld||(ld=!0,FT())}function ul(t,n){if(!ud&&cc){ud=!0;do for(var r=!1,o=uc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,s_(o,f))}else f=je,f=_i(o,o===rt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(r=!0,s_(o,f));o=o.next}while(r);ud=!1}}function HT(){t_()}function t_(){cc=ld=!1;var t=0;Fs!==0&&eb()&&(t=Fs);for(var n=hn(),r=null,o=uc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Ba=r)):(r=o,(t!==0||(f&3)!==0)&&(cc=!0)),o=h}Lt!==0&&Lt!==5||ul(t),Fs!==0&&(Fs=0)}function n_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Tt(f),T=1<<p,I=h[p];I===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Uh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=rt,r=je,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&pi(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&pi(o),Qi(r)){case 2:case 8:r=vo;break;case 32:r=vs;break;case 268435456:r=Wl;break;default:r=vs}return o=i_.bind(null,t),r=Et(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&pi(o),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(lc()&&t.callbackNode!==r)return null;var o=je;return o=_i(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),n_(t,hn()),t.callbackNode!=null&&t.callbackNode===r?i_.bind(null,t):null)}function s_(t,n){if(lc())return null;Ly(t,n,!0)}function FT(){nb(function(){(Ye&6)!==0?Et(_o,HT):t_()})}function cd(){if(Fs===0){var t=xa;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Fs=t}return Fs}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function a_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function GT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=r_((h[Ht]||null).action),p=o.submitter;p&&(n=(n=p[Ht]||null)?r_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ni("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var I=p?a_(h,p):new FormData(h);If(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?a_(h,p):new FormData(h),If(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],QT=fd.toLowerCase(),KT=fd[0].toUpperCase()+fd.slice(1);oi(QT,"on"+KT)}oi(Up,"onAnimationEnd"),oi(Lp,"onAnimationIteration"),oi(Pp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(uT,"onTransitionRun"),oi(cT,"onTransitionStart"),oi(hT,"onTransitionCancel"),oi(zp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function o_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(T=o[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}}}}function Ve(t,n){var r=n[aa];r===void 0&&(r=n[aa]=new Set);var o=t+"__bubble";r.has(o)||(l_(n,t,2,!1),r.add(o))}function dd(t,n,r){var o=0;n&&(o|=4),l_(r,t,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[hc]){t[hc]=!0,bo.forEach(function(r){r!=="selectionchange"&&(YT.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,dd("selectionchange",!1,n))}}function l_(t,n,r,o){switch(U_(n)){case 2:var h=bb;break;case 8:h=Sb;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=bi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}T=T.parentNode}}o=o.return}ws(function(){var z=f,Q=Ln(r),X=[];e:{var q=Bp.get(t);if(q!==void 0){var F=Ni,le=t;switch(t){case"keypress":if(xr(r)===0)break e;case"keydown":case"keyup":F=bu;break;case"focusin":le="focus",F=Rr;break;case"focusout":le="blur",F=Rr;break;case"beforeblur":case"afterblur":F=Rr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Up:case Lp:case Pp:F=pu;break;case zp:F=b;break;case"scroll":case"scrollend":F=Vo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Xi;break;case"toggle":case"beforetoggle":F=Re}var ye=(n&4)!==0,it=!ye&&(t==="scroll"||t==="scrollend"),k=ye?q!==null?q+"Capture":null:q;ye=[];for(var M=z,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ii(M,k),K!=null&&ye.push(hl(M,K,P))),it)break;M=M.return}0<ye.length&&(q=new F(q,le,null,r,Q),X.push({event:q,listeners:ye}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&r!==Do&&(le=r.relatedTarget||r.fromElement)&&(bi(le)||le[Ei]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(le=r.relatedTarget||r.toElement,F=z,le=le?bi(le):null,le!==null&&(it=c(le),ye=le.tag,le!==it||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(F=null,le=z),F!==le)){if(ye=jo,K="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Xi,K="onPointerLeave",k="onPointerEnter",M="pointer"),it=F==null?q:wn(F),P=le==null?q:wn(le),q=new ye(K,M+"leave",F,r,Q),q.target=it,q.relatedTarget=P,K=null,bi(Q)===z&&(ye=new ye(k,M+"enter",le,r,Q),ye.target=P,ye.relatedTarget=it,K=ye),it=K,F&&le)t:{for(ye=XT,k=F,M=le,P=0,K=k;K;K=ye(K))P++;K=0;for(var me=M;me;me=ye(me))K++;for(;0<P-K;)k=ye(k),P--;for(;0<K-P;)M=ye(M),K--;for(;P--;){if(k===M||M!==null&&k===M.alternate){ye=k;break t}k=ye(k),M=ye(M)}ye=null}else ye=null;F!==null&&u_(X,q,F,ye,!1),le!==null&&it!==null&&u_(X,it,le,ye,!0)}}e:{if(q=z?wn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Ge=xp;else if(Ap(q))if(Cp)Ge=aT;else{Ge=sT;var ue=iT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ca(z.elementType)&&(Ge=xp):Ge=rT;if(Ge&&(Ge=Ge(t,z))){wp(X,Ge,r,Q);break e}ue&&ue(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Ro(q,"number",q.value)}switch(ue=z?wn(z):window,t){case"focusin":(Ap(ue)||ue.contentEditable==="true")&&(_a=ue,Hh=z,zo=null);break;case"focusout":zo=Hh=_a=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,jp(X,r,Q);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":jp(X,r,Q)}var Ie;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ya?Nr(t,r)&&(ke="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(Oi&&r.locale!=="ko"&&(ya||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ya&&(Ie=Mo()):(Ri=Q,Oo="value"in Ri?Ri.value:Ri.textContent,ya=!0)),ue=fc(z,ke),0<ue.length&&(ke=new Di(ke,t,null,r,Q),X.push({event:ke,listeners:ue}),Ie?ke.data=Ie:(Ie=ga(r),Ie!==null&&(ke.data=Ie)))),(Ie=zn?WE(t,r):eT(t,r))&&(ke=fc(z,"onBeforeInput"),0<ke.length&&(ue=new Di("onBeforeInput","beforeinput",null,r,Q),X.push({event:ue,listeners:ke}),ue.data=Ie)),GT(X,t,z,r,Q)}o_(X,n)})}function hl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(t,r),h!=null&&o.unshift(hl(t,h,f)),h=ii(t,n),h!=null&&o.push(hl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function XT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ii(r,f),z!=null&&p.unshift(hl(r,z,I))):h||(z=ii(r,f),z!=null&&p.push(hl(r,z,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var $T=/\r\n?/g,ZT=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(ZT,"")}function h_(t,n){return n=c_(n),c_(t)===n}function nt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":xn(t,"class",o);break;case"tabIndex":xn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,r,o);break;case"style":Io(t,o,f);break;case"data":if(n!=="object"){xn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ha(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ha(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ni);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ha(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),la(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,la(t,r,o))}}function gd(t,n,r,o,h,f){switch(r){case"style":Io(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):la(t,r,o)}}}function en(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,f,p,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),o&&nt(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var T=f=p=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:nt(t,n,o,Q,r,null)}}uu(t,f,T,I,z,p,h,!1);return;case"select":Ve("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:nt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Ts(t,!!o,n,!1):r!=null&&Ts(t,!!o,r,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:nt(t,n,p,T,r,null)}bs(t,o,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:nt(t,n,I,o,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ve(cl[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,z,o,r,null)}return;default:if(ca(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&gd(t,n,Q,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&nt(t,n,T,o,r,null))}function JT(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,Q=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(F)||nt(t,n,F,null,o,X)}}for(var q in o){var F=o[q];if(X=r[q],o.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&nt(t,n,q,F,o,X)}}ua(t,p,T,I,z,Q,f,h);return;case"select":F=p=T=q=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&nt(t,n,h,f,o,I)}n=T,r=p,o=F,q!=null?Ts(t,!!r,q,!1):!!o!=!!r&&(n!=null?Ts(t,!!r,n,!0):Ts(t,!!r,r?[]:"",!1));return;case"textarea":F=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&nt(t,n,p,h,o,f)}cu(t,q,F);return;case"option":for(var le in r)if(q=r[le],r.hasOwnProperty(le)&&q!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:nt(t,n,le,null,o,q)}for(I in o)if(q=o[I],F=r[I],o.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:nt(t,n,I,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)q=r[ye],r.hasOwnProperty(ye)&&q!=null&&!o.hasOwnProperty(ye)&&nt(t,n,ye,null,o,q);for(z in o)if(q=o[z],F=r[z],o.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:nt(t,n,z,q,o,F)}return;default:if(ca(n)){for(var it in r)q=r[it],r.hasOwnProperty(it)&&q!==void 0&&!o.hasOwnProperty(it)&&gd(t,n,it,void 0,o,q);for(Q in o)q=o[Q],F=r[Q],!o.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||gd(t,n,Q,q,o,F);return}}for(var k in r)q=r[k],r.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,q);for(X in o)q=o[X],F=r[X],!o.hasOwnProperty(X)||q===F||q==null&&F==null||nt(t,n,X,q,o,F)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&f_(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>T)break;var Q=I.transferSize,X=I.initiatorType;Q&&f_(X)&&(I=I.responseEnd,p+=Q*(I<T?1:(T-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function eb(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(ib)}:p_;function ib(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function y_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ga(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&fl(t.ownerDocument.body);r=h}while(r);Ga(n)}function __(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function rb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function v_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ab(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ad=null;function E_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function b_(t,n,r){switch(n=dc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oa(t)}var Yn=new Map,S_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=ie.d;ie.d={f:ob,r:lb,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:pb};function ob(){var t=cs.f(),n=rc();return t||n}function lb(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?zg(n):cs.r(t)}var qa=typeof document>"u"?null:document;function A_(t,n,r){var o=qa;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",t),Rt(n),o.head.appendChild(n)))}}function ub(t){cs.D(t),A_("dns-prefetch",t,null)}function cb(t,n){cs.C(t,n),A_("preconnect",t,n)}function hb(t,n,r){cs.L(t,n,r);var o=qa;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Ha(t);break;case"script":f=Fa(t)}Yn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),en(n,"link",t),Rt(n),o.head.appendChild(n)))}}function fb(t,n){cs.m(t,n);var r=qa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Yn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Yn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}o=r.createElement("link"),en(o,"link",t),Rt(o),r.head.appendChild(o)}}}function db(t,n,r){cs.S(t,n,r);var o=qa;if(o&&t){var h=Si(o).hoistableStyles,f=Ha(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(dl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(f))&&wd(t,r);var I=p=o.createElement("link");Rt(I),en(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function mb(t,n){cs.X(t,n);var r=qa;if(r&&t){var o=Si(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(t=w({src:t,async:!0},n),(n=Yn.get(h))&&xd(t,n),f=r.createElement("script"),Rt(f),en(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pb(t,n){cs.M(t,n);var r=qa;if(r&&t){var o=Si(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&xd(t,n),f=r.createElement("script"),Rt(f),en(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(t,n,r,o){var h=(h=ge.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ha(r.href),r=Si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ha(r.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(dl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),f||gb(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(r),r=Si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ha(t){return'href="'+gn(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function gb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",r),Rt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+gn(t)+'"]'}function ml(t){return"script[async]"+t}function C_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Rt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Rt(o),en(o,"style",h),pc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ha(r.href);var f=t.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Rt(f),f;o=x_(r),(h=Yn.get(h))&&wd(o,h),f=(t.ownerDocument||t).createElement("link"),Rt(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),en(f,"link",o),n.state.loading|=4,pc(f,r.precedence,t),n.instance=f;case"script":return f=Fa(r.src),(h=t.querySelector(ml(f)))?(n.instance=h,Rt(h),h):(o=r,(h=Yn.get(f))&&(o=w({},r),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Rt(h),en(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,t));return n.instance}function pc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function R_(t,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function N_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function yb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ha(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Rt(f);return}f=n.ownerDocument||n,o=x_(o),(h=Yn.get(h))&&wd(o,h),f=f.createElement("link"),Rt(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),en(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=yc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function vb(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Cd===0&&(Cd=62500*WT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Cd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(Eb,t),_c=null,yc.call(t))}function Eb(t,n){if(!(n.state.loading&4)){var r=_c.get(t);if(r)var o=r.get(null);else{r=new Map,_c.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var pl={$$typeof:he,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Tb(t,n,r,o,h,f,p,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D_(t,n,r,o,h,f,p,T,I,z,Q,X){return t=new Tb(t,n,r,p,I,z,Q,X,T),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),t}function O_(t){return t?(t=Ta,t):Ta}function M_(t,n,r,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=js(t,o,n),r!==null&&(bn(r,t,n),Ko(r,t,n))}function V_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){V_(t,n),(t=t.alternate)&&V_(t,n)}function j_(t){if(t.tag===13||t.tag===31){var n=Or(t,67108864);n!==null&&bn(n,t,67108864),Rd(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var n=Mn();n=Er(n);var r=Or(t,n);r!==null&&bn(r,t,n),Rd(t,n)}}var Ec=!0;function bb(t,n,r,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Nd(t,n,r,o)}finally{ie.p=f,G.T=h}}function Sb(t,n,r,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Nd(t,n,r,o)}finally{ie.p=f,G.T=h}}function Nd(t,n,r,o){if(Ec){var h=Id(o);if(h===null)pd(t,n,o,Tc,r),L_(t,o);else if(wb(h,t,n,r,o))o.stopPropagation();else if(L_(t,o),n&4&&-1<Ab.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-Tt(p);T.entanglements[1]|=I,p&=~I}ki(f),(Ye&6)===0&&(ic=hn()+500,ul(0))}}break;case 31:case 13:T=Or(f,2),T!==null&&bn(T,f,2),rc(),Rd(f,2)}if(f=Id(o),f===null&&pd(t,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,r)}}function Id(t){return t=Ln(t),Dd(t)}var Tc=null;function Dd(t){if(Tc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case _o:return 2;case vo:return 8;case vs:case kh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Od=!1,Qs=null,Ks=null,Ys=null,gl=new Map,yl=new Map,Xs=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&j_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function wb(t,n,r,o,h){switch(n){case"focusin":return Qs=_l(Qs,t,n,r,o,h),!0;case"dragenter":return Ks=_l(Ks,t,n,r,o,h),!0;case"mouseover":return Ys=_l(Ys,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,t,n,r,o,h)),!0}return!1}function P_(t){var n=bi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ei(t.priority,function(){k_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ei(t.priority,function(){k_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Do=o,r.target.dispatchEvent(o),Do=null}else return n=Un(r),n!==null&&j_(n),t.blockedOn=r,!1;n.shift()}return!0}function z_(t,n,r){bc(t)&&r.delete(n)}function xb(){Od=!1,Qs!==null&&bc(Qs)&&(Qs=null),Ks!==null&&bc(Ks)&&(Ks=null),Ys!==null&&bc(Ys)&&(Ys=null),gl.forEach(z_),yl.forEach(z_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xb)))}var Ac=null;function B_(t){Ac!==t&&(Ac=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ga(t){function n(I){return Sc(I,t)}Qs!==null&&Sc(Qs,t),Ks!==null&&Sc(Ks,t),Ys!==null&&Sc(Ys,t),gl.forEach(n),yl.forEach(n);for(var r=0;r<Xs.length;r++){var o=Xs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)P_(r),r.blockedOn===null&&Xs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ht]||null;if(typeof f=="function")p||B_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)T=p.formAction;else if(Dd(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),B_(r)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}wc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Mn();M_(r,o,t,n,null,null)},wc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;M_(t.current,2,null,t,null,null),rc(),n[Ei]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Xs.length&&n!==0&&n<Xs[r].priority;r++);Xs.splice(r,0,t),r===0&&P_(t)}};var H_=e.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Cb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Jn=xc.inject(Cb),Xt=xc}catch{}}return El.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=$g,f=Zg,p=Jg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=D_(t,1,!1,null,null,r,o,null,h,f,p,q_),t[Ei]=n.current,md(t),new Md(n)},El.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=$g,p=Zg,T=Jg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=D_(t,1,!0,n,r??null,o,h,I,f,p,T,q_),n.context=O_(null),r=n.current,o=Mn(),o=Er(o),h=Vs(o),h.callback=null,js(r,h,o),r=o,n.current.lanes=r,_r(n,r),ki(n),t[Ei]=n.current,md(t),new wc(n)},El.version="19.2.3",El}var W_;function Lb(){if(W_)return kd.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=Ub(),kd.exports}var Pb=Lb();const zb=I0(Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),ev=s=>{const e=qb(s);return e.charAt(0).toUpperCase()+e.slice(1)},D0=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Hb=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Ee.createElement("svg",{ref:_,...Fb,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:D0("lucide",l),...!c&&!Hb(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>Ee.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(s,e)=>{const i=Ee.forwardRef(({className:a,...l},c)=>Ee.createElement(Gb,{ref:c,iconNode:e,className:D0(`lucide-${Bb(ev(s))}`,`lucide-${s}`,a),...l}));return i.displayName=ev(s),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Kb=pt("briefcase",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],tv=pt("building",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$b=pt("calculator",Xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Jb=pt("chart-no-axes-column",Zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],eS=pt("cloud-upload",Wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Nm=pt("dollar-sign",tS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],iS=pt("download",nS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],O0=pt("file-text",sS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aS=pt("log-out",rS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lS=pt("mail",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cS=pt("map-pin",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],zd=pt("monitor",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dS=pt("pen-line",fS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pS=pt("phone",mS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fh=pt("plus",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_S=pt("refresh-cw",yS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ES=pt("save",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Im=pt("search",TS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dl=pt("trash-2",bS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AS=pt("user-check",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xS=pt("user",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M0=pt("users",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],NS=pt("wallet",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DS=pt("x",IS),OS=()=>{};var nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},MS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,B=y&63;_||(B=64,d||(N=64)),a.push(i[A],i[w],i[N],i[B])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):MS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new VS;const N=c<<2|g>>4;if(a.push(N),y!==64){const B=g<<4&240|y>>2;if(a.push(B),w!==64){const J=y<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(s){const e=V0(s);return j0.encodeByteArray(e,!0)},Gc=function(s){return jS(s).replace(/\./g,"")},k0=function(s){try{return j0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=()=>kS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof nv>"u")return;const s=nv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&k0(s[1]);return e&&JSON.parse(e)},dh=()=>{try{return OS()||US()||LS()||PS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U0=s=>{var e,i;return(i=(e=dh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},zS=s=>{const e=U0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},L0=()=>{var s;return(s=dh())==null?void 0:s.config},P0=s=>{var e;return(e=dh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function HS(){const s={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?s.emulator.push(e):s.prod.push(e);return s}function FS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let iv=!1;function B0(s,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||wl[s]===e||wl[s]||iv)return;wl[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=HS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{iv=!0,d()},N}function A(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=FS(a),B=i("text"),J=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),L=document.getElementById(W)||document.createElement("a"),ae=i("preprendIcon"),oe=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const he=N.element;g(he),A(L,W);const De=y();_(oe,ae),he.append(oe,J,L,De),document.body.appendChild(he)}c?(J.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function QS(){var e;const s=(e=dh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!QS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=eA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?tA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new _s(l,g,a)}}function tA(s,e){return s.replace(nA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const nA=/\{\$([^}]+)}/g;function iA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Jr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(sv(c)&&sv(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function sv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function sA(s,e){const i=new rA(s,e);return i.subscribe.bind(i)}class rA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new BS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uA(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(s){return s===Qr?void 0:s}function uA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const hA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},fA=Ue.INFO,dA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},mA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=dA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const pA=(s,e)=>e.some(i=>s instanceof i);let rv,av;function gA(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,im=new WeakMap,H0=new WeakMap,qd=new WeakMap,Om=new WeakMap;function _A(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&q0.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function vA(s){if(im.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function EA(s){sm=s(sm)}function TA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return H0.set(a,e.sort?e.sort():[e]),nr(a)}:yA().includes(s)?function(...e){return s.apply(Hd(this),e),nr(q0.get(this))}:function(...e){return nr(s.apply(Hd(this),e))}}function bA(s){return typeof s=="function"?TA(s):(s instanceof IDBTransaction&&vA(s),pA(s,gA())?new Proxy(s,sm):s)}function nr(s){if(s instanceof IDBRequest)return _A(s);if(qd.has(s))return qd.get(s);const e=bA(s);return e!==s&&(qd.set(s,e),Om.set(e,s)),e}const Hd=s=>Om.get(s);function SA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=nr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(nr(d.result),_.oldVersion,_.newVersion,nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const AA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],Fd=new Map;function ov(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(e,c),c}EA(s=>({...s,get:(e,i,a)=>ov(e,i)||s.get(e,i,a),has:(e,i)=>!!ov(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",lv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Dm("@firebase/app"),RA="@firebase/app-compat",NA="@firebase/analytics-compat",IA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",MA="@firebase/auth",VA="@firebase/auth-compat",jA="@firebase/database",kA="@firebase/data-connect",UA="@firebase/database-compat",LA="@firebase/functions",PA="@firebase/functions-compat",zA="@firebase/installations",BA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",FA="@firebase/performance",GA="@firebase/performance-compat",QA="@firebase/remote-config",KA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",$A="@firebase/firestore",ZA="@firebase/ai",JA="@firebase/firestore-compat",WA="firebase",e2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",t2={[rm]:"fire-core",[RA]:"fire-core-compat",[IA]:"fire-analytics",[NA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[VA]:"fire-auth-compat",[jA]:"fire-rtdb",[kA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[LA]:"fire-fn",[PA]:"fire-fn-compat",[zA]:"fire-iid",[BA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[FA]:"fire-perf",[GA]:"fire-perf-compat",[QA]:"fire-rc",[KA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[$A]:"fire-fst",[JA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,n2=new Map,om=new Map;function uv(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const e=s.name;if(om.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of Qc.values())uv(i,s);for(const i of n2.values())uv(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ci(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new zl("app","Firebase",i2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=e2;function F0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=L0()),!i)throw ir.create("no-options");const c=Qc.get(l);if(c){if(Jr(i,c.options)&&Jr(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new cA(l);for(const _ of om.values())d.addComponent(_);const g=new s2(i,a,d);return Qc.set(l,g),g}function G0(s=am){const e=Qc.get(s);if(!e&&s===am&&L0())return F0();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,i){let a=t2[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}no(new Wr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebase-heartbeat-database",a2=1,Ol="firebase-heartbeat-store";let Gd=null;function Q0(){return Gd||(Gd=SA(r2,a2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function o2(s){try{const i=(await Q0()).transaction(Ol),a=await i.objectStore(Ol).get(K0(s));return await i.done,a}catch(e){if(e instanceof _s)ms.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(i.message)}}}async function cv(s,e){try{const a=(await Q0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(e,K0(s)),await a.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ms.warn(a.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1024,u2=30;class c2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new f2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=hv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>u2){const d=d2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ms.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=hv(),{heartbeatsToSend:a,unsentEntries:l}=h2(this._heartbeatsCache.heartbeats),c=Gc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ms.warn(i),""}}}function hv(){return new Date().toISOString().substring(0,10)}function h2(s,e=l2){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),fv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),fv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class f2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await o2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function d2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s){no(new Wr("platform-logger",e=>new xA(e),"PRIVATE")),no(new Wr("heartbeat",e=>new c2(e),"PRIVATE")),sr(rm,lv,s),sr(rm,lv,"esm2020"),sr("fire-js","")}m2("");var p2="firebase",g2="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(p2,g2,"app");function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y2=Y0,X0=new zl("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Dm("@firebase/auth");function _2(s,...e){Kc.logLevel<=Ue.WARN&&Kc.warn(`Auth (${ho}): ${s}`,...e)}function jc(s,...e){Kc.logLevel<=Ue.ERROR&&Kc.error(`Auth (${ho}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(s,...e){throw jm(s,...e)}function fi(s,...e){return jm(s,...e)}function Vm(s,e,i){const a={...y2(),[e]:i};return new zl("auth","Firebase",a).create(e,{appName:s.name})}function Xr(s){return Vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v2(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Hi(s,"argument-error"),Vm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return X0.create(s,...e)}function Te(s,e,...i){if(!s)throw jm(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw jc(e),new Error(e)}function ps(s,e){s||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function E2(){return dv()==="http:"||dv()==="https:"}function dv(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E2()||YS()||"connection"in navigator)?navigator.onLine:!0}function b2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=GS()||XS()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(s,e){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new ql(3e4,6e4);function Um(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fo(s,e,i,a,l={}){return Z0(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return KS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&co(s.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(await J0(s,s.config.apiHost,i,g),y)})}async function Z0(s,e,i){s._canInitEmulator=!1;const a={...S2,...e};try{const l=new C2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vm(s,A,y);Hi(s,A)}}catch(l){if(l instanceof _s)throw l;Hi(s,"network-request-failed",{message:String(l)})}}async function x2(s,e,i,a,l={}){const c=await fo(s,e,i,a,l);return"mfaPendingCredential"in c&&Hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function J0(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return A2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class C2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(fi(this.auth,"network-request-failed")),w2.get())})}}function Cc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=fi(s,e,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,e){return fo(s,"POST","/v1/accounts:delete",e)}async function Yc(s,e){return fo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N2(s,e=!1){const i=Bt(s),a=await i.getIdToken(e),l=Lm(a);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:xl(Qd(l.auth_time)),issuedAtTime:xl(Qd(l.iat)),expirationTime:xl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Qd(s){return Number(s)*1e3}function Lm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=k0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function mv(s){const e=Lm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof _s&&I2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function I2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(s){var w;const e=s.auth,i=await s.getIdToken(),a=await Ml(s,Yc(e,{idToken:i}));Te(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=(w=l.providerUserInfo)!=null&&w.length?W0(l.providerUserInfo):[],d=M2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function O2(s){const e=Bt(s);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M2(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function W0(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(s,e){const i=await Z0(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await J0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&co(s.emulatorConfig.host)&&(_.credentials="include"),$0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function j2(s,e){return fo(s,"POST","/v2/accounts:revokeToken",Um(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=mv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await V2(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Za;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return N2(this,e)}reload(){return O2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Ml(this,R2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:B,providerData:J,stsTokenManager:W}=i;Te(w&&W,e,"internal-error");const L=Za.fromJSON(this.name,W);Te(typeof w=="string",e,"internal-error"),Zs(a,e.name),Zs(l,e.name),Te(typeof N=="boolean",e,"internal-error"),Te(typeof B=="boolean",e,"internal-error"),Zs(c,e.name),Zs(d,e.name),Zs(g,e.name),Zs(_,e.name),Zs(y,e.name),Zs(A,e.name);const ae=new hi({uid:w,auth:e,email:l,emailVerified:N,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:L,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ae.providerData=J.map(oe=>({...oe}))),_&&(ae._redirectEventId=_),ae}static async _fromIdTokenResponse(e,i,a=!1){const l=new Za;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?W0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Za;g.updateFromIdToken(a);const _=new hi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;function ds(s){ps(s instanceof Function,"Expected a class definition");let e=pv.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,pv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}e1.type="NONE";const gv=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ja{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ja(ds(gv),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ds(gv);const d=kc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const N=await Yc(e,{idToken:A}).catch(()=>{});if(!N)break;w=await hi._fromGetAccountInfoResponse(e,N,A)}else w=hi._fromJSON(e,A);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a1(e))return"Blackberry";if(o1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function t1(s=cn()){return/firefox\//i.test(s)}function n1(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(s=cn()){return/crios\//i.test(s)}function s1(s=cn()){return/iemobile/i.test(s)}function r1(s=cn()){return/android/i.test(s)}function a1(s=cn()){return/blackberry/i.test(s)}function o1(s=cn()){return/webos/i.test(s)}function Pm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function k2(s=cn()){var e;return Pm(s)&&!!((e=window.navigator)!=null&&e.standalone)}function U2(){return $S()&&document.documentMode===10}function l1(s=cn()){return Pm(s)||r1(s)||o1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(s,e=[]){let i;switch(s){case"Browser":i=yv(cn());break;case"Worker":i=`${yv(cn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(s,e={}){return fo(s,"GET","/v2/passwordPolicy",Um(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=6;class B2{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new L2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(ci(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=a==null?void 0:a._redirectEventId,_=await this.tryRedirectSignIn(e);(!d||d===g)&&(_!=null&&_.user)&&(a=_.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Xr(this));const i=e?Bt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P2(this),i=new B2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await j2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&_2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function mh(s){return Bt(s)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(s){zm=s}function F2(s){return zm.loadJS(s)}function G2(){return zm.gapiScript}function Q2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Jr(c,e??{}))return l;Hi(l,"already-initialized")}return i.initialize({options:e})}function Y2(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function X2(s,e,i){const a=mh(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=c1(e),{host:d,port:g}=$2(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(Jr(y,a.config.emulator)&&Jr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,co(d)?(z0(`${c}//${d}${_}`),B0("Auth",!0)):Z2()}function c1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function $2(s){const e=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:vv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:vv(d)}}}function vv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Z2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(s,e){return x2(s,"POST","/v1/accounts:signInWithIdp",Um(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="http://localhost";class ea extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Wa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Wa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Wa(e,i)}buildRequest(){const e={requestUri:J2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Bm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Hl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hs.credential(i,a)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Hl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Hl{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await hi._fromIdTokenResponse(e,a,l),d=Ev(a);return new io({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=Ev(a);return new io({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function Ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends _s{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new $c(e,i,a,l)}}function f1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,e,a):c})}async function W2(s,e,i=!1){const a=await Ml(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return io._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(s,e,i=!1){const{auth:a}=s;if(ci(a.app))return Promise.reject(Xr(a));const l="reauthenticate";try{const c=await Ml(s,f1(a,l,e,s),i);Te(c.idToken,a,"internal-error");const d=Lm(c.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(s.uid===g,a,"user-mismatch"),io._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Hi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(s,e,i=!1){if(ci(s.app))return Promise.reject(Xr(s));const a="signIn",l=await f1(s,a,e),c=await io._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function nw(s,e,i,a){return Bt(s).onIdTokenChanged(e,i,a)}function iw(s,e,i){return Bt(s).beforeAuthStateChanged(e,i)}function sw(s,e,i,a){return Bt(s).onAuthStateChanged(e,i,a)}function rw(s){return Bt(s).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=1e3,ow=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);U2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ow):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}m1.type="LOCAL";const lw=m1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}p1.type="SESSION";const g1=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await uw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=qm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function hw(s){Li().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function fw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function mw(){return y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebaseLocalStorageDb",pw=1,Jc="firebaseLocalStorage",v1="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,e){return s.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function gw(){const s=indexedDB.deleteDatabase(_1);return new Fl(s).toPromise()}function cm(){const s=indexedDB.open(_1,pw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:v1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await gw(),e(await cm()))})})}async function Tv(s,e,i){const a=gh(s,!0).put({[v1]:e,value:i});return new Fl(a).toPromise()}async function yw(s,e){const i=gh(s,!1).get(e),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function bv(s,e){const i=gh(s,!0).delete(e);return new Fl(i).toPromise()}const _w=800,vw=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(mw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await Tv(e,Zc,"1"),await bv(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Tv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>yw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const Ew=E1;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(s,e){return e?ds(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Wa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Tw(s){return tw(s.auth,new Hm(s),s.bypassAuthState)}function bw(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),ew(i,new Hm(s),s.bypassAuthState)}async function Sw(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),W2(i,new Hm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return bw;default:Hi(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new ql(2e3,1e4);async function ww(s,e,i){if(ci(s.app))return Promise.reject(fi(s,"operation-not-supported-in-this-environment"));const a=mh(s);v2(s,e,Bm);const l=T1(a,i);return new Kr(a,"signInViaPopup",e,l).executeNotNull()}class Kr extends b1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aw.get())};e()}}Kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="pendingRedirect",Uc=new Map;class Cw extends b1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(s,e){const i=Dw(e),a=Iw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Nw(s,e){Uc.set(s._key(),e)}function Iw(s){return ds(s._redirectPersistence)}function Dw(s){return kc(xw,s.config.apiKey,s.name)}async function Ow(s,e,i=!1){if(ci(s.app))return Promise.reject(Xr(s));const a=mh(s),l=T1(a,e),d=await new Cw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=600*1e3;class Vw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!S1(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(fi(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function S1({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(s,e={}){return fo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Pw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await kw(s);for(const i of e)try{if(zw(i))return}catch{}Hi(s,"unauthorized-domain")}function zw(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(Uw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new ql(3e4,6e4);function Av(){const s=Li().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function qw(s){return new Promise((e,i)=>{var l,c,d;function a(){Av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Av(),i(fi(s,"network-request-failed"))},timeout:Bw.get()})}if((c=(l=Li().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Li().gapi)!=null&&d.load)a();else{const g=Q2("iframefcb");return Li()[g]=()=>{gapi.load?a():i(fi(s,"network-request-failed"))},F2(`${G2()}?onload=${g}`).catch(_=>i(_))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function Hw(s){return Lc=Lc||qw(s),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new ql(5e3,15e3),Gw="__/auth/iframe",Qw="emulator/auth/iframe",Kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?km(e,Qw):`https://${s.config.authDomain}/${Gw}`,a={apiKey:e.apiKey,appName:s.name,v:ho},l=Yw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function $w(s){const e=await Hw(s),i=Li().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:Xw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=fi(s,"network-request-failed"),g=Li().setTimeout(()=>{c(d)},Fw.get());function _(){Li().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jw=500,Ww=600,ex="_blank",tx="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nx(s,e,i,a=Jw,l=Ww){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Zw,width:a.toString(),height:l.toString(),top:c,left:d},y=cn().toLowerCase();i&&(g=i1(y)?ex:i),t1(y)&&(e=e||tx,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[B,J])=>`${N}${B}=${J},`,"");if(k2(y)&&g!=="_self")return ix(e||"",g),new wv(null);const w=window.open(e||"",g,A);Te(w,s,"popup-blocked");try{w.focus()}catch{}return new wv(w)}function ix(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__/auth/handler",rx="emulator/auth/handler",ax=encodeURIComponent("fac");async function xv(s,e,i,a,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(e instanceof Bm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",iA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof Hl){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${ax}=${encodeURIComponent(_)}`:"";return`${ox(s)}?${Bl(g).slice(1)}${y}`}function ox({config:s}){return s.emulator?km(s,rx):`https://${s.authDomain}/${sx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class lx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g1,this._completeRedirectFn=Ow,this._overrideRedirectResult=Nw}async _openPopup(e,i,a,l){var d;ps((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await xv(e,i,a,lm(),l);return nx(e,c,qm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await xv(e,i,a,lm(),l);return hw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await $w(e),a=new Vw(e);return i.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Kd];c!==void 0&&i(!!c),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return l1()||n1()||Pm()}}const ux=lx;var Cv="@firebase/auth",Rv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fx(s){no(new Wr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},y=new q2(a,l,c,_);return Y2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),no(new Wr("auth-internal",e=>{const i=mh(e.getProvider("auth").getImmediate());return(a=>new cx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(Cv,Rv,hx(s)),sr(Cv,Rv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=300,mx=P0("authIdTokenMaxAge")||dx;let Nv=null;const px=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>mx)return;const l=i==null?void 0:i.token;Nv!==l&&(Nv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gx(s=G0()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=K2(s,{popupRedirectResolver:ux,persistence:[Ew,lw,g1]}),a=P0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=px(c.toString());iw(i,d,()=>d(i.currentUser)),nw(i,g=>d(g))}}const l=U0("auth");return l&&X2(i,`http://${l}`),i}function yx(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}H2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=fi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",yx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fx("Browser");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,A1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function x(){}x.prototype=C.prototype,D.F=C.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(j,S,O){for(var R=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)R[qe-2]=arguments[qe];return C.prototype[S].apply(j,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,C,x){x||(x=0);const j=Array(16);if(typeof C=="string")for(var S=0;S<16;++S)j[S]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(S=0;S<16;++S)j[S]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=D.g[0],x=D.g[1],S=D.g[2];let O=D.g[3],R;R=C+(O^x&(S^O))+j[0]+3614090360&4294967295,C=x+(R<<7&4294967295|R>>>25),R=O+(S^C&(x^S))+j[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=S+(x^O&(C^x))+j[2]+606105819&4294967295,S=O+(R<<17&4294967295|R>>>15),R=x+(C^S&(O^C))+j[3]+3250441966&4294967295,x=S+(R<<22&4294967295|R>>>10),R=C+(O^x&(S^O))+j[4]+4118548399&4294967295,C=x+(R<<7&4294967295|R>>>25),R=O+(S^C&(x^S))+j[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=S+(x^O&(C^x))+j[6]+2821735955&4294967295,S=O+(R<<17&4294967295|R>>>15),R=x+(C^S&(O^C))+j[7]+4249261313&4294967295,x=S+(R<<22&4294967295|R>>>10),R=C+(O^x&(S^O))+j[8]+1770035416&4294967295,C=x+(R<<7&4294967295|R>>>25),R=O+(S^C&(x^S))+j[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=S+(x^O&(C^x))+j[10]+4294925233&4294967295,S=O+(R<<17&4294967295|R>>>15),R=x+(C^S&(O^C))+j[11]+2304563134&4294967295,x=S+(R<<22&4294967295|R>>>10),R=C+(O^x&(S^O))+j[12]+1804603682&4294967295,C=x+(R<<7&4294967295|R>>>25),R=O+(S^C&(x^S))+j[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=S+(x^O&(C^x))+j[14]+2792965006&4294967295,S=O+(R<<17&4294967295|R>>>15),R=x+(C^S&(O^C))+j[15]+1236535329&4294967295,x=S+(R<<22&4294967295|R>>>10),R=C+(S^O&(x^S))+j[1]+4129170786&4294967295,C=x+(R<<5&4294967295|R>>>27),R=O+(x^S&(C^x))+j[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=S+(C^x&(O^C))+j[11]+643717713&4294967295,S=O+(R<<14&4294967295|R>>>18),R=x+(O^C&(S^O))+j[0]+3921069994&4294967295,x=S+(R<<20&4294967295|R>>>12),R=C+(S^O&(x^S))+j[5]+3593408605&4294967295,C=x+(R<<5&4294967295|R>>>27),R=O+(x^S&(C^x))+j[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=S+(C^x&(O^C))+j[15]+3634488961&4294967295,S=O+(R<<14&4294967295|R>>>18),R=x+(O^C&(S^O))+j[4]+3889429448&4294967295,x=S+(R<<20&4294967295|R>>>12),R=C+(S^O&(x^S))+j[9]+568446438&4294967295,C=x+(R<<5&4294967295|R>>>27),R=O+(x^S&(C^x))+j[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=S+(C^x&(O^C))+j[3]+4107603335&4294967295,S=O+(R<<14&4294967295|R>>>18),R=x+(O^C&(S^O))+j[8]+1163531501&4294967295,x=S+(R<<20&4294967295|R>>>12),R=C+(S^O&(x^S))+j[13]+2850285829&4294967295,C=x+(R<<5&4294967295|R>>>27),R=O+(x^S&(C^x))+j[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=S+(C^x&(O^C))+j[7]+1735328473&4294967295,S=O+(R<<14&4294967295|R>>>18),R=x+(O^C&(S^O))+j[12]+2368359562&4294967295,x=S+(R<<20&4294967295|R>>>12),R=C+(x^S^O)+j[5]+4294588738&4294967295,C=x+(R<<4&4294967295|R>>>28),R=O+(C^x^S)+j[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=S+(O^C^x)+j[11]+1839030562&4294967295,S=O+(R<<16&4294967295|R>>>16),R=x+(S^O^C)+j[14]+4259657740&4294967295,x=S+(R<<23&4294967295|R>>>9),R=C+(x^S^O)+j[1]+2763975236&4294967295,C=x+(R<<4&4294967295|R>>>28),R=O+(C^x^S)+j[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=S+(O^C^x)+j[7]+4139469664&4294967295,S=O+(R<<16&4294967295|R>>>16),R=x+(S^O^C)+j[10]+3200236656&4294967295,x=S+(R<<23&4294967295|R>>>9),R=C+(x^S^O)+j[13]+681279174&4294967295,C=x+(R<<4&4294967295|R>>>28),R=O+(C^x^S)+j[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=S+(O^C^x)+j[3]+3572445317&4294967295,S=O+(R<<16&4294967295|R>>>16),R=x+(S^O^C)+j[6]+76029189&4294967295,x=S+(R<<23&4294967295|R>>>9),R=C+(x^S^O)+j[9]+3654602809&4294967295,C=x+(R<<4&4294967295|R>>>28),R=O+(C^x^S)+j[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=S+(O^C^x)+j[15]+530742520&4294967295,S=O+(R<<16&4294967295|R>>>16),R=x+(S^O^C)+j[2]+3299628645&4294967295,x=S+(R<<23&4294967295|R>>>9),R=C+(S^(x|~O))+j[0]+4096336452&4294967295,C=x+(R<<6&4294967295|R>>>26),R=O+(x^(C|~S))+j[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=S+(C^(O|~x))+j[14]+2878612391&4294967295,S=O+(R<<15&4294967295|R>>>17),R=x+(O^(S|~C))+j[5]+4237533241&4294967295,x=S+(R<<21&4294967295|R>>>11),R=C+(S^(x|~O))+j[12]+1700485571&4294967295,C=x+(R<<6&4294967295|R>>>26),R=O+(x^(C|~S))+j[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=S+(C^(O|~x))+j[10]+4293915773&4294967295,S=O+(R<<15&4294967295|R>>>17),R=x+(O^(S|~C))+j[1]+2240044497&4294967295,x=S+(R<<21&4294967295|R>>>11),R=C+(S^(x|~O))+j[8]+1873313359&4294967295,C=x+(R<<6&4294967295|R>>>26),R=O+(x^(C|~S))+j[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=S+(C^(O|~x))+j[6]+2734768916&4294967295,S=O+(R<<15&4294967295|R>>>17),R=x+(O^(S|~C))+j[13]+1309151649&4294967295,x=S+(R<<21&4294967295|R>>>11),R=C+(S^(x|~O))+j[4]+4149444226&4294967295,C=x+(R<<6&4294967295|R>>>26),R=O+(x^(C|~S))+j[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=S+(C^(O|~x))+j[2]+718787259&4294967295,S=O+(R<<15&4294967295|R>>>17),R=x+(O^(S|~C))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(S+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+O&4294967295}a.prototype.v=function(D,C){C===void 0&&(C=D.length);const x=C-this.blockSize,j=this.C;let S=this.h,O=0;for(;O<C;){if(S==0)for(;O<=x;)l(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<C;)if(j[S++]=D.charCodeAt(O++),S==this.blockSize){l(this,j),S=0;break}}else for(;O<C;)if(j[S++]=D[O++],S==this.blockSize){l(this,j),S=0;break}}this.h=S,this.o+=C},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,x=0;x<4;++x)for(let j=0;j<32;j+=8)D[C++]=this.g[x]>>>j&255;return D};function c(D,C){var x=g;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=C(D)}function d(D,C){this.h=C;const x=[];let j=!0;for(let S=D.length-1;S>=0;S--){const O=D[S]|0;j&&O==C||(x[S]=O,j=!1)}this.g=x}var g={};function _(D){return-128<=D&&D<128?c(D,function(C){return new d([C|0],C<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return L(y(-D));const C=[];let x=1;for(let j=0;D>=x;j++)C[j]=D/x|0,x*=4294967296;return new d(C,0)}function A(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return L(A(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(C,8));let j=w;for(let O=0;O<D.length;O+=8){var S=Math.min(8,D.length-O);const R=parseInt(D.substring(O,O+S),C);S<8?(S=y(Math.pow(C,S)),j=j.j(S).add(y(R))):(j=j.j(x),j=j.add(y(R)))}return j}var w=_(0),N=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-L(this).m();let D=0,C=1;for(let x=0;x<this.g.length;x++){const j=this.i(x);D+=(j>=0?j:4294967296+j)*C,C*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+L(this).toString(D);const C=y(Math.pow(D,6));var x=this;let j="";for(;;){const S=De(x,C).g;x=ae(x,S.j(C));let O=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=S,J(x))return O+j;for(;O.length<6;)O="0"+O;j=O+j}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=ae(this,D),W(D)?-1:J(D)?0:1};function L(D){const C=D.g.length,x=[];for(let j=0;j<C;j++)x[j]=~D.g[j];return new d(x,~D.h).add(N)}s.abs=function(){return W(this)?L(this):this},s.add=function(D){const C=Math.max(this.g.length,D.g.length),x=[];let j=0;for(let S=0;S<=C;S++){let O=j+(this.i(S)&65535)+(D.i(S)&65535),R=(O>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);j=R>>>16,O&=65535,R&=65535,x[S]=R<<16|O}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ae(D,C){return D.add(L(C))}s.j=function(D){if(J(this)||J(D))return w;if(W(this))return W(D)?L(this).j(L(D)):L(L(this).j(D));if(W(D))return L(this.j(L(D)));if(this.l(B)<0&&D.l(B)<0)return y(this.m()*D.m());const C=this.g.length+D.g.length,x=[];for(var j=0;j<2*C;j++)x[j]=0;for(j=0;j<this.g.length;j++)for(let S=0;S<D.g.length;S++){const O=this.i(j)>>>16,R=this.i(j)&65535,qe=D.i(S)>>>16,ot=D.i(S)&65535;x[2*j+2*S]+=R*ot,oe(x,2*j+2*S),x[2*j+2*S+1]+=O*ot,oe(x,2*j+2*S+1),x[2*j+2*S+1]+=R*qe,oe(x,2*j+2*S+1),x[2*j+2*S+2]+=O*qe,oe(x,2*j+2*S+2)}for(D=0;D<C;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=C;D<2*C;D++)x[D]=0;return new d(x,0)};function oe(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function he(D,C){this.g=D,this.h=C}function De(D,C){if(J(C))throw Error("division by zero");if(J(D))return new he(w,w);if(W(D))return C=De(L(D),C),new he(L(C.g),L(C.h));if(W(C))return C=De(D,L(C)),new he(L(C.g),C.h);if(D.g.length>30){if(W(D)||W(C))throw Error("slowDivide_ only works with positive integers.");for(var x=N,j=C;j.l(D)<=0;)x=He(x),j=He(j);var S=be(x,1),O=be(j,1);for(j=be(j,2),x=be(x,2);!J(j);){var R=O.add(j);R.l(D)<=0&&(S=S.add(x),O=R),j=be(j,1),x=be(x,1)}return C=ae(D,S.j(C)),new he(S,C)}for(S=w;D.l(C)>=0;){for(x=Math.max(1,Math.floor(D.m()/C.m())),j=Math.ceil(Math.log(x)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),O=y(x),R=O.j(C);W(R)||R.l(D)>0;)x-=j,O=y(x),R=O.j(C);J(O)&&(O=N),S=S.add(O),D=ae(D,R)}return new he(S,D)}s.B=function(D){return De(this,D).h},s.and=function(D){const C=Math.max(this.g.length,D.g.length),x=[];for(let j=0;j<C;j++)x[j]=this.i(j)&D.i(j);return new d(x,this.h&D.h)},s.or=function(D){const C=Math.max(this.g.length,D.g.length),x=[];for(let j=0;j<C;j++)x[j]=this.i(j)|D.i(j);return new d(x,this.h|D.h)},s.xor=function(D){const C=Math.max(this.g.length,D.g.length),x=[];for(let j=0;j<C;j++)x[j]=this.i(j)^D.i(j);return new d(x,this.h^D.h)};function He(D){const C=D.g.length+1,x=[];for(let j=0;j<C;j++)x[j]=D.i(j)<<1|D.i(j-1)>>>31;return new d(x,D.h)}function be(D,C){const x=C>>5;C%=32;const j=D.g.length-x,S=[];for(let O=0;O<j;O++)S[O]=C>0?D.i(O+x)>>>C|D.i(O+x+1)<<32-C:D.i(O+x);return new d(S,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,A1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,rr=d}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,Tl,x1,Pc,hm,C1,R1,N1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var ee=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ee[Re-2]=arguments[Re];return m.prototype[U].apply(b,ee)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let ee=0;ee<H;ee++)u[v+ee]=U[ee]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function L(u){d.setTimeout(()=>{throw u},0)}function ae(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const b=he.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var he=new W(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let He,be=!1,D=new oe,C=()=>{const u=Promise.resolve(void 0);He=()=>{u.then(x)}};function x(){for(var u;u=ae();){try{u.h.call(u.g)}catch(v){L(v)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}be=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function qe(u,m){S.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(qe,S),qe.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ee=ge(u,m,b,U);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new ie(m,this.src,H,!!b,U),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ge(u,m,v,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return U}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),vt={};function lt(u,m,v,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)lt(u,m[H],v,b,U);return null}return v=Zn(v),u&&u[ot]?u.J(m,v,g(b)?!!b.capture:!1,U):mi(u,m,v,!1,b,U)}function mi(u,m,v,b,U,H){if(!m)throw Error("Invalid event type");const ee=g(U)?!!U.capture:!!U;let Re=jn(u);if(Re||(u[xe]=Re=new se(u)),v=Re.add(m,v,b,ee,H),v.proxy)return v;if(b=ne(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)O||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(We(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ne(){function u(v){return m.call(u.src,u.listener,v)}const m=qt;return u}function fe(u,m,v,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)fe(u,m[H],v,b,U);else b=g(b)?!!b.capture:!!b,v=Zn(v),u&&u[ot]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=ge(m,v,b,U),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=jn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,v,b,U)),(v=u>-1?m[u]:null)&&Ce(v))}function Ce(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ot])_e(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(We(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=jn(m))?(_e(v,u),v.h==0&&(v.src=null,m[xe]=null)):de(u)}}}function We(u){return u in vt?vt[u]:vt[u]="on"+u}function qt(u,m){if(u.da)u=!0;else{m=new qe(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ce(u),u=v.call(b,m)}return u}function jn(u){return u=u[xe],u instanceof se?u:null}var pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(u){return typeof u=="function"?u:(u[pn]||(u[pn]=function(m){return u.handleEvent(m)}),u[pn])}function st(){j.call(this),this.i=new se(this),this.M=this,this.G=null}w(st,j),st.prototype[ot]=!0,st.prototype.removeEventListener=function(u,m,v,b){fe(this,u,m,v,b)};function Et(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new S(m,u);else if(m instanceof S)m.target=m.target||u;else{var U=m;m=new S(b,u),te(m,U)}U=!0;let H,ee;if(v)for(ee=v.length-1;ee>=0;ee--)H=m.g=v[ee],U=pi(H,b,!0,m)&&U;if(H=m.g=u,U=pi(H,b,!0,m)&&U,U=pi(H,b,!1,m)&&U,v)for(ee=0;ee<v.length;ee++)H=m.g=v[ee],U=pi(H,b,!1,m)&&U}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)de(v[b]);delete u.g[m],u.h--}}this.G=null},st.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},st.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function pi(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ee=m[H];if(ee&&!ee.da&&ee.capture==v){const Re=ee.listener,bt=ee.ha||ee.src;ee.fa&&_e(u.i,ee),U=Re.call(bt,b)!==!1&&U}}return U&&!b.defaultPrevented}function jh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=jh(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hn extends j{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(u){j.call(this),this.h=u,this.g={}}w(gr,j);var _o=[];function vo(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ce(m)},u),u.g={}}gr.prototype.N=function(){gr.Z.N.call(this),vo(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,kh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function tu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){S.call(this,"d")}w(Xt,S);function kn(){S.call(this,"c")}w(kn,S);var Tt={},nu=null;function ra(){return nu=nu||new st}Tt.Ia="serverreachability";function iu(u){S.call(this,Tt.Ia,u)}w(iu,S);function gi(u){const m=ra();Et(m,new iu(m))}Tt.STAT_EVENT="statevent";function yr(u,m){S.call(this,Tt.STAT_EVENT,u),this.stat=m}w(yr,S);function xt(u){const m=ra();Et(m,new yr(m,u))}Tt.Ja="timingevent";function yi(u,m){S.call(this,Tt.Ja,u),this.size=m}w(yi,S);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,b,U,H){u.info(function(){if(u.g)if(H){var ee="",Re=H.split("&");for(let Ke=0;Ke<Re.length;Ke++){var bt=Re[Ke].split("=");if(bt.length>1){const dt=bt[0];bt=bt[1];const zn=dt.split("_");ee=zn.length>=2&&zn[1]=="type"?ee+(dt+"="+bt+"&"):ee+(dt+"=redacted&")}}}else ee=null;else ee=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ee})}function su(u,m,v,b,U,H,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+ee})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(b?" "+b:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return vs(H)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function Er(){}w(Er,eu),Er.prototype.g=function(){return new XMLHttpRequest},To=new Er;function Qi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ct={},Ht={};function Ei(u,m,v){u.M=1,u.A=Tr(Nt(m)),u.u=v,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),Ti(u),u.B=Nt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ca(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ti,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new hn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_o[0]=U.toString()),U=_o);for(let H=0;H<U.length;H++){const ee=lt(v,U[H],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const Re=si(this.g),bt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Re!=4||bt==7||(bt==8||Ke<=0?gi(3):gi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var H=b;break t}}H=null}if(u=H)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,xt(12),wn(this),Un(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=ou(this,v),dt==Ht){Re==4&&(this.m=4,xt(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,xt(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,dt,null),Si(this,dt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,xt(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(ee),ee.P=!0,xt(11))}}else vi(this.i,this.l,v,null),Si(this,v);Re==4&&wn(this),this.o&&!this.K&&(Re==4?gu(this.j,this):(this.o=!1,Ti(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),wn(this),Un(this)}}}catch{}finally{}};function Ph(u){if(!au(u))return u.g.la();const m=$t(u.g);if(m==="")return"";let v="";const b=m.length,U=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ht:(v=Number(m.substring(v,b)),isNaN(v)?Ct:(b+=1,b+v>m.length?Ht:(m=m.slice(b,b+v),u.C=b+v,m)))}ei.prototype.cancel=function(){this.K=!0,wn(this)};function Ti(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(gi(),xt(17)),wn(this),this.m=2,Un(this)):oa(this,this.T-u)};function Un(u){u.j.I==0||u.K||gu(u.j,u)}function wn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Cs(v);else break e;Rr(v),xt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ke=U[m];const dt=Ke[0];if(!(dt<=v.K))if(v.K=dt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const zn=Ke[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Oi=Ke[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ri=Ke[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ai=u.g;if(ai){const Nr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var H=b.h;H.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ao(H,H.h),H.h=null))}if(b.G){const ga=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(b.wa=ga,$e(b.J,b.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=u;if(b.na=vu(b,b.L?b.ba:null,b.W),ee.L){wo(b.h,ee);var Re=ee,bt=b.O;bt&&(Re.H=bt),Re.D&&(bi(Re),Ti(Re)),b.g=ee}else mu(b);v.i.length>0&&Ii(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Di(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Di(v,7):Vo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}gi(4)}catch{}}var Rt=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,H=null;b>=0?(U=u[v].substring(0,b),H=u[v].substring(b+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Co(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Es(this,m[4]),this.h=xi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ua,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?Ro:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,cu)),u.join("")},xn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ee=0;ee<U.length;){const Re=U[ee++];Re=="."?b&&ee==U.length&&H.push(""):Re==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&ee==U.length&&H.push("")):(H.push(Re),b=!0)}b=H.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Co(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new xn(u)}function Ft(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof bs?(u.i=m,ha(u.i,u.l)):(v||(m=br(m,Ts)),u.i=new bs(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function Tr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,uu=/[#\?:]/g,Ro=/[#\?]/g,Ts=/[#\?@]/g,cu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=bs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){yn(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return yn(u),m=Ss(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Io(u,m){yn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Ss(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Qi(v);v=Io(this,v);for(let H=0;H<v.length;H++){let ee=U;v[H]!==""&&(ee+="="+Qi(v[H])),u.push(ee)}}return this.i=u.join("&")};function fu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(hu(this,b),ca(this,U,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const b=new Image;b.onload=A(Ln,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Ln,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Ln,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Ln,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Do(u,m){const v=new Wn,b=new AbortController,U=setTimeout(()=>{b.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function As(){this.g=new Wl}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,eu),Ci.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){st.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Sr,st),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):ii(this),this.readyState==3&&fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Oe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Pn(v),typeof u=="string"?v!=null&&Qi(v):$e(u,m,v))}function et(u){st.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(et,st);var Ri=/^https?$/i,Oo=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){wr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of v)this.g.setRequestHeader(H,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){wr(this,H)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Ki(u)}function Mo(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Et(this,"complete"),Et(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Et(u,"readystatechange"),si(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let ee=String(u.D).match(lu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),b=!Ri.test(ee?ee.toLowerCase():"")}v=b}if(v)Et(u,"complete"),Et(u,"success");else{u.o=6;try{var U=si(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Et(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kh(m)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ru(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Fe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){xt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),Ii(this)};function Vo(u){if(da(u),u.I==3){var m=u.V++,v=Nt(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),Cr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Tr(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}_u(u)}function Cs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function da(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;He||C(),be||(He(),be=!0),D.add(m,u),u.D=0}}function ma(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ei(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),te(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),v=Nt(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Cr(this,v),H&&(this.R?m="headers="+Qi(Pn(H))+"&"+m:this.u&&Ar(v,this.u,H)),Ao(this.h,U),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),U.U=!0,Ei(U,v,null)):Ei(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||So(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const b=Nt(u.J);$e(b,"SID",u.M),$e(b,"RID",v),$e(b,"AID",u.K),Cr(u,b),u.u&&u.o&&Ar(b,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),Ei(v,b,m)}function Cr(u,m){u.H&&Oe(u.H,function(v,b){$e(m,b,v)}),u.l&&Oe({},function(v,b){$e(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Re=-1;for(;;){const bt=["count="+v];Re==-1?v>0?(Re=U[0].g,bt.push("ofs="+Re)):Re=0:bt.push("ofs="+Re);let Ke=!0;for(let dt=0;dt<v;dt++){var H=U[dt].g;const zn=U[dt].map;if(H-=Re,H<0)Re=Math.max(0,U[dt].g-100),Ke=!1;else try{H="req"+H+"_"||"";try{var ee=zn instanceof Map?zn:Object.entries(zn);for(const[Oi,ri]of ee){let ai=ri;g(ri)&&(ai=vs(ri)),bt.push(H+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw bt.push(H+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(zn)}}if(Ke){ee=bt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;He||C(),be||(He(),be=!0),D.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Cs(this),pu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(Nt(m)),v.u=null,v.R=!0,aa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Rr(this),xt(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){pa(u),ko(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,wo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ra(),Et(b,new yi(b,v)),Ii(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ma(u,m)||b==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const U=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(b,"https"),Tr(b),U?ni(b.toString(),v):Do(b.toString(),v)}else xt(2);u.I=0,u.l&&u.l.pa(m),_u(u),da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof xn?Nt(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Es(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new xn(null);b&&Ft(H,b),m&&(H.g=m),U&&Es(H,U),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&$e(b,v,m),$e(b,"VER",u.ka),Cr(u,b),b}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Ci({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){st.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}w(fn,st),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Vo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);m.i.push(new Rt(m.Ya++,u)),m.I==3&&Ii(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,fn.Z.N.call(this)};function bu(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,Xt);function Su(){kn.call(this),this.status=1}w(Su,kn);function Xi(u){this.g=u}w(Xi,Tu),Xi.prototype.ra=function(){Et(this.g,"a")},Xi.prototype.qa=function(u){Et(this.g,new bu(u))},Xi.prototype.pa=function(u){Et(this.g,new Su)},Xi.prototype.oa=function(){Et(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,N1=function(){return new Rs},R1=function(){return ra()},C1=Tt,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Pc=vr,Eo.COMPLETE="complete",x1=Eo,tu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",st.prototype.listen=st.prototype.J,Tl=tu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,w1=et}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Ov="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Dm("@firebase/firestore");function Ka(){return ta.logLevel}function re(s,...e){if(ta.logLevel<=Ue.DEBUG){const i=e.map(Fm);ta.debug(`Firestore (${mo}): ${s}`,...i)}}function gs(s,...e){if(ta.logLevel<=Ue.ERROR){const i=e.map(Fm);ta.error(`Firestore (${mo}): ${s}`,...i)}}function so(s,...e){if(ta.logLevel<=Ue.WARN){const i=e.map(Fm);ta.warn(`Firestore (${mo}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,I1(s,a,i)}function I1(s,e,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Xe(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||I1(e,l,a)}function we(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ex{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Tx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Tx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Ax(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Le(s,e){return s<e?-1:s>e?1:0}function fm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Le(l,c):Yd(l)?1:-1}return Le(s.length,e.length)}const wx=55296,xx=57343;function Yd(s){const e=s.charCodeAt(0);return e>=wx&&e<=xx}function ro(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),l=Ui.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class ht extends Ui{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const Cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ui{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return Cx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new sn([Vv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ht.fromString(e))}static fromName(e){return new pe(ht.fromString(e).popFirst(5))}static empty(){return new pe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(s,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Rx(s,e,i,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function jv(s){if(!pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function kv(s){if(pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function M1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(s);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Gl(s,e){if(!M1(s))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,Lv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Lv);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Uv)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gl(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:kt("string",ft._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function Nx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new or(l,pe.empty(),e)}function Ix(s){return new or(s.readTime,s.key,Vl)}class or{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new or(Se.min(),pe.empty(),Vl)}static max(){return new or(Se.max(),pe.empty(),Vl)}}function Dx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Le(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==Ox)throw s;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Vx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function _h(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function jx(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="";function kx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Pv(e)),e=Ux(s.get(i),e);return Pv(e)}function Ux(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case V1:i+="";break;default:i+=c}}return i}function Pv(s){return s+V1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function mr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function j1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,i){this.comparator=e,this.root=i||tn.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new tn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new tn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new zt(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const i=Lx.exec(s);if(Xe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",L1="__type__",P1="__previous_value__",z1="__local_write_time__";function Ym(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[L1])==null?void 0:a.stringValue)===U1}function vh(s){const e=s.mapValue.fields[P1];return Ym(e)?vh(e):e}function jl(s){const e=lr(s.mapValue.fields[z1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,i,a,l,c,d,g,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const eh="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",zx="__max__",Ic={mapValue:{}},q1="__vector__",th="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:qx(s)?9007199254740991:Bx(s)?10:11:ve(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=cr(s);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=lr(l.timestampValue),g=lr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return wt(l.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(l.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return wt(l.integerValue)===wt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=wt(l.doubleValue),g=wt(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ro(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(zv(d)!==zv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Fi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Ul(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function ao(s,e){if(s===e)return 0;const i=cr(s),a=cr(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=wt(c.integerValue||c.doubleValue),_=wt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return qv(s.timestampValue,e.timestampValue);case 4:return qv(jl(s),jl(e));case 5:return fm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=ur(c),_=ur(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Le(g[y],_[y]);if(A!==0)return A}return Le(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(wt(c.latitude),wt(d.latitude));return g!==0?g:Le(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Hv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var N,B,J,W;const g=c.fields||{},_=d.fields||{},y=(N=g[th])==null?void 0:N.arrayValue,A=(B=_[th])==null?void 0:B.arrayValue,w=Le(((J=y==null?void 0:y.values)==null?void 0:J.length)||0,((W=A==null?void 0:A.values)==null?void 0:W.length)||0);return w!==0?w:Hv(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const N=fm(_[w],A[w]);if(N!==0)return N;const B=ao(g[_[w]],y[A[w]]);if(B!==0)return B}return Le(_.length,A.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function qv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const i=lr(s),a=lr(e),l=Le(i.seconds,a.seconds);return l!==0?l:Le(i.nanos,a.nanos)}function Hv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Le(i.length,a.length)}function oo(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=lr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ur(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function zc(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function Fv(s){return!!s&&"nullValue"in s}function Gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function Bx(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[B1])==null?void 0:a.stringValue)===q1}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return mr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Cl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return e}return{...s}}function qx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(i)}setAll(e){let i=sn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){mr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new An(Cl(this.value))}}function H1(s){const e=[];return mr(s.fields,((i,a)=>{const l=new sn([i]);if(Bc(a)){const c=H1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new un(e,0,Se.min(),Se.min(),Se.min(),An.empty(),0)}static newFoundDocument(e,i,a,l){return new un(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new un(e,2,i,Se.min(),Se.min(),An.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,Se.min(),Se.min(),An.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,i){this.position=e,this.inclusive=i}}function Qv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Kv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function Hx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{}class Pt extends F1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Gx(e,i,a):i==="array-contains"?new Yx(e,a):i==="in"?new Xx(e,a):i==="not-in"?new $x(e,a):i==="array-contains-any"?new Zx(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Qx(e,a):new Kx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends F1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return G1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(s){return s.op==="and"}function Q1(s){return Fx(s)&&G1(s)}function Fx(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function pm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(Q1(s))return s.filters.map((e=>pm(e))).join(",");{const e=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${e})`}}function K1(s,e){return s instanceof Pt?(function(a,l){return l instanceof Pt&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(s,e):s instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&K1(d,l.filters[g])),!0):!1})(s,e):void ve(19439)}function Y1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Y1).join(" ,")+"}"})(s):"Filter"}class Gx extends Pt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class Qx extends Pt{constructor(e,i){super(e,"in",i),this.keys=X1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Kx extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=X1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function X1(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>pe.fromName(a.referenceValue)))}class Yx extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Ul(i.arrayValue,this.value)}}class Xx extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class $x extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class Zx extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Yv(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Jx(s,e,i,a,l,c,d)}function $m(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>oo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>oo(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Hx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Kv(s.startAt,e.startAt)&&Kv(s.endAt,e.endAt)}function gm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Wx(s,e,i,a,l,c,d,g){return new Eh(s,e,i,a,l,c,d,g)}function Jm(s){return new Eh(s)}function Xv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eC(s){return s.collectionGroup!==null}function Rl(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new zt(sn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new ih(sn.keyField(),a))}return e.Ie}function Pi(s){const e=we(s);return e.Ee||(e.Ee=tC(e,Rl(s))),e.Ee}function tC(s,e){if(s.limitType==="F")return Yv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Yv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function ym(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return Zm(Pi(s),Pi(e))&&s.limitType===e.limitType}function $1(s){return`${$m(Pi(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Y1(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function bh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Qv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,g,_){const y=Qv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Rl(a),l))})(s,e)}function nC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z1(s){return(e,i)=>{let a=!1;for(const l of Rl(s)){const c=iC(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iC(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?ao(_,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new gt(pe.comparator);function ys(){return sC}const J1=new gt(pe.comparator);function bl(...s){let e=J1;for(const i of s)e=e.insert(i.key,i);return e}function W1(s){let e=J1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Yr(){return Nl()}function eE(){return Nl()}function Nl(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const rC=new gt(pe.comparator),aC=new zt(pe.comparator);function Pe(...s){let e=aC;for(const i of s)e=e.add(i);return e}const oC=new zt(Le);function lC(){return oC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function tE(s){return{integerValue:""+s}}function uC(s,e){return jx(e)?tE(e):Wm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function cC(s,e,i){return s instanceof sh?(function(l,c){const d={fields:{[L1]:{stringValue:U1},[z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=vh(c)),c&&(d.fields[P1]=c),{mapValue:d}})(i,e):s instanceof Ll?iE(s,e):s instanceof Pl?sE(s,e):(function(l,c){const d=nE(l,c),g=$v(d)+$v(l.Ae);return mm(d)&&mm(l.Ae)?tE(g):Wm(l.serializer,g)})(s,e)}function hC(s,e,i){return s instanceof Ll?iE(s,e):s instanceof Pl?sE(s,e):i}function nE(s,e){return s instanceof rh?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class sh extends Sh{}class Ll extends Sh{constructor(e){super(),this.elements=e}}function iE(s,e){const i=rE(e);for(const a of s.elements)i.some((l=>Fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends Sh{constructor(e){super(),this.elements=e}}function sE(s,e){let i=rE(e);for(const a of s.elements)i=i.filter((l=>!Fi(l,a)));return{arrayValue:{values:i}}}class rh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $v(s){return wt(s.integerValue||s.doubleValue)}function rE(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fC(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Pl&&l instanceof Pl?ro(a.elements,l.elements,Fi):a instanceof rh&&l instanceof rh?Fi(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(s.transform,e.transform)}class dC{constructor(e,i){this.version=e,this.transformResults=i}}class mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function aE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new wh(s.key,mn.none()):new Ql(s.key,s.data,mn.none());{const i=s.data,a=An.empty();let l=new zt(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new pr(s.key,a,new Vn(l.toArray()),mn.none())}}function mC(s,e,i){s instanceof Ql?(function(l,c,d){const g=l.value.clone(),_=Jv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof pr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Jv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(oE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Il(s,e,i,a){return s instanceof Ql?(function(c,d,g,_){if(!qc(c.precondition,d))return g;const y=c.value.clone(),A=Wv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof pr?(function(c,d,g,_){if(!qc(c.precondition,d))return g;const y=Wv(c.fieldTransforms,_,d),A=d.data;return A.setAll(oE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function pC(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=nE(a.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(a.field,c))}return i||null}function Zv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>fC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ql extends Ah{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends Ah{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Jv(s,e,i){const a=new Map;Xe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,hC(d,g,i[l]))}return a}function Wv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,cC(c,d,e))}return a}class wh extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&mC(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=eE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=aE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((i,a)=>Zv(i,a)))&&ro(this.baseMutations,e.baseMutations,((i,a)=>Zv(i,a)))}}class ep{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return rC})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ep(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Be;function EC(s){switch(s){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function lE(s){if(s===void 0)return gs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:s})}}(Be=Vt||(Vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new rr([4294967295,4294967295],0);function e0(s){const e=TC().encode(s),i=new A1;return i.update(e),new Uint8Array(i.digest())}function t0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=rr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(rr.fromNumber(a)));return l.compare(bC)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=e0(e),[a,l]=t0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tp(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=e0(e),[a,l]=t0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new xh(Se.min(),l,new gt(Le),ys(),Pe())}}class Kl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Kl(a,i,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class uE{constructor(e,i){this.targetId=e,this.Ce=i}}class cE{constructor(e,i,a=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class n0{constructor(){this.ve=0,this.Fe=i0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new Kl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=i0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Dc(),this.He=Dc(),this.Ye=new gt(Le)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(gm(c))if(a===0){const d=new pe(c.path);this.et(i,d,un.newNoDocument(d,Se.min()))}else Xe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ur(a).toUint8Array()}catch(_){if(_ instanceof k1)return so("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new tp(d,l,c)}catch(_){return so(_ instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&gm(g.target)){const _=new pe(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,un.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new xh(e,i,this.Ye,this.je,a);return this.je=ys(),this.Je=Dc(),this.He=Dc(),this.Ye=new gt(Le),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new n0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new zt(Le),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new zt(Le),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new gt(pe.comparator)}function i0(){return new gt(pe.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class CC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RC(s,e){return ah(s,e.toTimestamp())}function zi(s){return Xe(!!s,49232),Se.fromTimestamp((function(i){const a=lr(i);return new ft(a.seconds,a.nanos)})(s))}function np(s,e){return vm(s,e).canonicalString()}function vm(s,e){const i=(function(l){return new ht(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function fE(s){const e=ht.fromString(s);return Xe(yE(e),10190,{key:e.toString()}),e}function Em(s,e){return np(s.databaseId,e.path)}function Xd(s,e){const i=fE(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(mE(i))}function dE(s,e){return np(s.databaseId,e)}function NC(s){const e=fE(s);return e.length===4?ht.emptyPath():mE(e)}function Tm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mE(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function s0(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function IC(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Xe(A===void 0||typeof A=="string",58123),rn.fromBase64String(A||"")):(Xe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:lE(y.code);return new ce(A,y.message||"")})(d);i=new cE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):Se.min(),g=new An({mapValue:{fields:a.document.fields}}),_=un.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Hc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(s,a.document),c=a.readTime?zi(a.readTime):Se.min(),d=un.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Hc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vC(l,c),g=a.targetId;i=new uE(g,d)}}return i}function DC(s,e){let i;if(e instanceof Ql)i={update:s0(s,e.key,e.value)};else if(e instanceof wh)i={delete:Em(s,e.key)};else if(e instanceof pr)i={update:s0(s,e.key,e.data),updateMask:zC(e.fieldMask)};else{if(!(e instanceof gC))return ve(16599,{Vt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:RC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function OC(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(Se.min())&&(d=zi(c)),new dC(d,l.transformResults||[])})(i,e)))):[]}function MC(s,e){return{documents:[dE(s,e.path)]}}function VC(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(s,l);const c=(function(y){if(y.length!==0)return gE(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:Xa(N.field),direction:UC(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_m(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function jC(s){let e=NC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xe(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const N=pE(w);return N instanceof Gi&&Q1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(J){return new ih($a(J.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let N;return N=typeof w=="object"?w.value:w,_h(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(w){const N=!!w.before,B=w.values||[];return new nh(B,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const N=!w.before,B=w.values||[];return new nh(B,N)})(i.endAt)),Wx(e,l,d,c,g,"F",_,y)}function kC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function pE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>pE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function UC(s){return AC[s]}function LC(s){return wC[s]}function PC(s){return xC[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return sn.fromServerFormat(s.fieldPath)}function gE(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(Gv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(Fv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Gv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(Fv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:LC(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((l=>gE(l)));return a.length===1?a[0]:{compositeFilter:{op:PC(i.op),filters:a}}})(s):ve(54877,{filter:s})}function zC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function yE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,i,a,l,c=Se.min(),d=Se.min(),g=rn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.yt=e}}function qC(s){const e=jC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Cn=new FC}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(or.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class FC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new zt(ht.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(_E,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",GC=1048576;function o0([s,e],[i,a]){const l=Le(s,i);return l===0?Le(e,a):l}class QC{constructor(e){this.Ir=e,this.buffer=new zt(o0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();o0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?re(a0,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Vr(3e5)}))}}class YC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new QC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(r0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Ka()<=Ue.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function XC(s,e){return new YC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changes=new ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Il(a.mutation,l,Vn.empty(),ft.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const l=Yr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=bl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Yr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=ys();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof pr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Il(A.mutation,y,A.mutation.getFieldMask(),ft.now())):d.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new ZC(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Nl();let l=new gt(((d,g)=>d-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Vn.empty();A=g.applyToLocalView(y,A),a.set(_,A);const w=(l.get(g.batchId)||Pe()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,w=eE();A.forEach((N=>{if(!c.has(N)){const B=aE(i.get(N),a.get(N));B!==null&&w.set(N,B),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):eC(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(Yr());let g=Vl,_=c;return d.next((y=>$.forEach(y,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Pe()))).next((A=>({batchId:g,changes:W1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const y=(function(w,N){return new Eh(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((A=>{A.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,un.newInvalidDocument(A)))}));let g=bl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Il(A.mutation,y,Vn.empty(),ft.now()),bh(i,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qC(l.bundledQuery),readTime:zi(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.overlays=new gt(pe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Yr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=Yr(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new gt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Yr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Yr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return $.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _C(i,a));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.Qr=new zt(Kt.$r),this.Ur=new zt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new ht([])),a=new Kt(i,e),l=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new ht([])),a=new Kt(i,e),l=new Kt(i,e+1);let c=Pe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Le(e.Yr,i.Yr)}static Kr(e,i){return Le(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Kt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yC(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),l=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(Le);return i.forEach((l=>{const c=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new pe(c),0);let g=new zt(Le);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Xe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Kt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Kt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.ri=e,this.docs=(function(){return new gt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ys();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Dx(Ix(A),a)<=0||(l.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new sR(this)}getSize(e){return $.resolve(this.size)}}class sR extends $C{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.persistence=e,this.si=new ia((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=lo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new lo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new tR,this.referenceDelegate=e(this),this.Pi=new rR(this),this.indexManager=new HC,this.remoteDocumentCache=(function(l){return new iR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new BC(i),this.Ii=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new nR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const l=new aR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class aR extends Mx{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Vi=null}static mi(e){return new sp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pe.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.pi=new ia((a=>kx(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=XC(this,i)}static mi(e,i){return new oh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rp(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:Vx(cn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Ka()<=Ue.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=Ue.DEBUG&&re("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ka()<=Ue.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):$.resolve())}ys(e,i){if(Xv(i))return $.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,ym(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return Xv(i)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ka()<=Ue.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(e,d,i,Nx(l,Vl)).next((g=>g)))}))}Ds(e,i){let a=new zt(Z1(e));return i.forEach(((l,c)=>{bh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Ka()<=Ue.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(e,i,or.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",uR=3e8;class cR{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new gt(Le),this.xs=new ia((c=>$m(c)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hR(s,e,i,a){return new cR(s,e,i,a)}async function EE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Pe();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function fR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const w=y.batch,N=w.keys();let B=$.resolve();return N.forEach((J=>{B=B.next((()=>A.getEntry(_,J))).next((W=>{const L=y.docVersions.get(J);Xe(L!==null,48541),W.version.compareTo(L)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Pe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dR(s,e){const i=we(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,w)=>{const N=l.get(w);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let B=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?B=B.withResumeToken(rn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),l=l.insert(w,B),(function(W,L,ae){return W.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=uR?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(N,B,A)&&g.push(i.Pi.updateTargetData(c,B))}));let _=ys(),y=Pe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(mR(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Se.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function mR(s,e,i){let a=Pe(),l=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ys();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):re(ap,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function pR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new tr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function bm(s,e,i){const a=we(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;re(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function l0(s,e,i){const a=we(s);let l=Se.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=we(_),N=w.xs.get(A);return N!==void 0?$.resolve(w.Ms.get(N)):w.Pi.getTargetData(y,A)})(a,d,Pi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:Pe()))).next((g=>(yR(a,nC(e),g),{documents:g,Qs:c})))))}function yR(s,e,i){let a=s.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class u0{constructor(){this.activeTargetIds=lC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _R{constructor(){this.Mo=new u0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new u0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="ConnectivityMonitor";class h0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(c0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(c0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Sm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",ER={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Sm(),g=this.zo(e,i.toUriEncodedString());re($d,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=co(y);return this.Jo(e,g,_,a,A).then((w=>(re($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw so($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=ER[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class SR extends TR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Sm();return new Promise(((g,_)=>{const y=new w1;y.setWithCredentials(!0),y.listenOnce(x1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();re(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Pc.TIMEOUT:re(on,`RPC '${e}' ${d} timed out`),_(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const N=y.getStatus();if(re(on,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B==null?void 0:B.error;if(J&&J.status&&J.message){const W=(function(ae){const oe=ae.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(oe)>=0?oe:Z.UNKNOWN})(J.status);_(new ce(W,J.message))}else _(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(on,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);re(on,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=Sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=N1(),g=R1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");re(on,`Creating RPC '${e}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let N=!1,B=!1;const J=new bR({Yo:L=>{B?re(on,`Not sending because RPC '${e}' stream ${l} is closed:`,L):(N||(re(on,`Opening RPC '${e}' stream ${l} transport.`),w.open(),N=!0),re(on,`RPC '${e}' stream ${l} sending:`,L),w.send(L))},Zo:()=>w.close()}),W=(L,ae,oe)=>{L.listen(ae,(he=>{try{oe(he)}catch(De){setTimeout((()=>{throw De}),0)}}))};return W(w,Tl.EventType.OPEN,(()=>{B||(re(on,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),W(w,Tl.EventType.CLOSE,(()=>{B||(B=!0,re(on,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(w))})),W(w,Tl.EventType.ERROR,(L=>{B||(B=!0,so(on,`RPC '${e}' stream ${l} transport errored. Name:`,L.name,"Message:",L.message),J.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),W(w,Tl.EventType.MESSAGE,(L=>{var ae;if(!B){const oe=L.data[0];Xe(!!oe,16349);const he=oe,De=(he==null?void 0:he.error)||((ae=he[0])==null?void 0:ae.error);if(De){re(on,`RPC '${e}' stream ${l} received error:`,De);const He=De.status;let be=(function(x){const j=Vt[x];if(j!==void 0)return lE(j)})(He),D=De.message;be===void 0&&(be=Z.INTERNAL,D="Unknown error status: "+He+" with message "+De.message),B=!0,J.a_(new ce(be,D)),w.close()}else re(on,`RPC '${e}' stream ${l} received:`,oe),J.u_(oe)}})),W(g,C1.STAT_EVENT,(L=>{L.stat===hm.PROXY?re(on,`RPC '${e}' stream ${l} detected buffering proxy`):L.stat===hm.NOPROXY&&re(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(s){return new CC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class SE{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(re(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AR extends SE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=IC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?zi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=gm(_)?{documents:MC(c,_)}:{query:VC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hE(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=kC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.q_(i)}}class wR extends SE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=OC(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>DC(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{}class CR extends xR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,vm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class NR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{sa(this)&&(re(na,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new RR(a,l)}}async function Rh(s){if(sa(s))for(const e of s.da)await e(!0)}async function Yl(s){for(const e of s.da)await e(!1)}function AE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):yo(i).O_()&&lp(i,e))}function op(s,e){const i=we(s),a=yo(i);i.Ia.delete(e),a.O_()&&wE(i,e),i.Ia.size===0&&(a.O_()?a.L_():sa(i)&&i.Ra.set("Unknown"))}function lp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}yo(s).Y_(e)}function wE(s,e){s.Va.Ue(e),yo(s).Z_(e)}function up(s){s.Va=new SC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function cp(s){return sa(s)&&!yo(s).x_()&&s.Ia.size>0}function sa(s){return we(s).Ea.size===0}function xE(s){s.Va=void 0}async function IR(s){s.Ra.set("Online")}async function DR(s){s.Ia.forEach(((e,i)=>{lp(s,e)}))}async function OR(s,e){xE(s),cp(s)?(s.Ra.ha(e),up(s)):s.Ra.set("Unknown")}async function MR(s,e,i){if(s.Ra.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){re(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(s,a)}else if(e instanceof Hc?s.Va.Ze(e):e instanceof uE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const a=await TE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(rn.EMPTY_BYTE_STRING,A.snapshotVersion)),wE(c,_);const w=new tr(A.target,_,y,A.sequenceNumber);lp(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){re(na,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,e,i){if(!go(e))throw e;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),i||(i=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(na,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function CE(s,e){return e().catch((i=>lh(s,i,e)))}async function Nh(s){const e=we(s),i=hr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;VR(e);)try{const l=await pR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,jR(e,l)}catch(l){await lh(e,l)}RE(e)&&NE(e)}function VR(s){return sa(s)&&s.Ta.length<10}function jR(s,e){s.Ta.push(e);const i=hr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function RE(s){return sa(s)&&!hr(s).x_()&&s.Ta.length>0}function NE(s){hr(s).start()}async function kR(s){hr(s).ra()}async function UR(s){const e=hr(s);for(const i of s.Ta)e.ea(i.mutations)}async function LR(s,e,i){const a=s.Ta.shift(),l=ep.from(a,e,i);await CE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function PR(s,e){e&&hr(s).X_&&await(async function(a,l){if((function(d){return EC(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();hr(a).B_(),await CE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(a)}})(s,e),RE(s)&&NE(s)}async function d0(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),re(na,"RemoteStore received new credentials");const a=sa(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function zR(s,e){const i=we(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(i,a,l){const c=we(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:IR.bind(null,s),t_:DR.bind(null,s),r_:OR.bind(null,s),H_:MR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),xE(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(i,a,l){const c=we(i);return c.sa(),new wR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,s),r_:PR.bind(null,s),ta:UR.bind(null,s),na:LR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new hp(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(gs("AsyncQueue",`${e}: ${s}`),go(s))return new ce(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ga=new gt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class uo{constructor(e,i,a,l,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new uo(e,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qR{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=we(i),c=l.queries;l.queries=p0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function p0(){return new ia((s=>$1(s)),Th)}async function HR(s,e){const i=we(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new BR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=fp(d,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dp(i)}async function FR(s,e){const i=we(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GR(s,e){const i=we(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&dp(i)}function QR(s,e,i){const a=we(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var Am,g0;(g0=Am||(Am={})).Ma="default",g0.Cache="cache";class KR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new uo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class YR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Z1(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new m0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const N=l.get(A),B=bh(this.query,w)?w:null,J=!!N&&this.mutatedKeys.has(N.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let L=!1;N&&B?N.data.isEqual(B.data)?J!==W&&(a.track({type:3,doc:B}),L=!0):this.su(N,B)||(a.track({type:2,doc:B}),L=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(g=!0)):!N&&B?(a.track({type:0,doc:B}),L=!0):N&&!B&&(a.track({type:1,doc:N}),L=!0,(_||y)&&(g=!0)),L&&(B?(d=d.add(B),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(B,J){const W=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:L})}};return W(B)-W(J)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new uo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new IE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class XR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $R{constructor(e){this.key=e,this.hu=!1}}class ZR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((g=>$1(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new gt(pe.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JR(s,e,i=!0){const a=UE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OE(a,e,i,!0),l}async function WR(s,e){const i=UE(s);await OE(i,e,!0,!1)}async function OE(s,e,i,a){const l=await gR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await eN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&AE(s.remoteStore,l),g}async function eN(s,e,i,a,l){s.pu=(w,N,B)=>(async function(W,L,ae,oe){let he=L.view.ru(ae);he.Cs&&(he=await l0(W.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,he))));const De=oe&&oe.targetChanges.get(L.targetId),He=oe&&oe.targetMismatches.get(L.targetId)!=null,be=L.view.applyChanges(he,W.isPrimaryClient,De,He);return _0(W,L.targetId,be.au),be.snapshot})(s,w,N,B);const c=await l0(s.localStore,e,!0),d=new YR(e,c.Qs),g=d.ru(c.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);_0(s,i,y.au);const A=new XR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function tN(s,e,i){const a=we(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Th(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&op(a.remoteStore,l.targetId),wm(a,l.targetId)})).catch(po)):(wm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function nN(s,e){const i=we(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),op(i.remoteStore,a.targetId))}async function iN(s,e,i){const a=cN(s);try{const l=await(function(d,g){const _=we(d),y=ft.now(),A=g.reduce(((B,J)=>B.add(J.key)),Pe());let w,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=ys(),W=Pe();return _.Ns.getEntries(B,A).next((L=>{J=L,J.forEach(((ae,oe)=>{oe.isValidDocument()||(W=W.add(ae))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,J))).next((L=>{w=L;const ae=[];for(const oe of g){const he=pC(oe,w.get(oe.key).overlayedDocument);he!=null&&ae.push(new pr(oe.key,he,H1(he.value.mapValue),mn.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,ae,g)})).next((L=>{N=L;const ae=L.applyToLocalDocumentSet(w,W);return _.documentOverlayCache.saveOverlays(B,L.batchId,ae)}))})).then((()=>({batchId:N.batchId,changes:W1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new gt(Le)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Xl(a,l.changes),await Nh(a.remoteStore)}catch(l){const c=fp(l,"Failed to persist write");i.reject(c)}}async function ME(s,e){const i=we(s);try{const a=await dR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await Xl(i,a,e)}catch(a){await po(a)}}function y0(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=we(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,w)=>{for(const N of w.Sa)N.va(g)&&(y=!0)})),y&&dp(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sN(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new gt(pe.comparator);d=d.insert(c,un.newNoDocument(c,Se.min()));const g=Pe().add(c),_=new xh(Se.min(),new Map,new gt(Le),d,g);await ME(a,_),a.du=a.du.remove(c),a.Au.delete(e),pp(a)}else await bm(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(po)}async function rN(s,e){const i=we(s),a=e.batch.batchId;try{const l=await fR(i.localStore,e);jE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await po(l)}}async function aN(s,e,i){const a=we(s);try{const l=await(function(d,g){const _=we(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Xe(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);jE(a,e,i),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Xl(a,l)}catch(l){await po(l)}}function VE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function jE(s,e,i){const a=we(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||kE(s,a)}))}function kE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(op(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pp(s))}function _0(s,e,i){for(const a of i)a instanceof IE?(s.Ru.addReference(a.key,e),oN(s,a)):a instanceof DE?(re(mp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||kE(s,a.key)):ve(19791,{wu:a})}function oN(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(re(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(ht.fromString(e)),a=s.fu.next();s.Au.set(a,new $R(i)),s.du=s.du.insert(i,a),AE(s.remoteStore,new tr(Pi(Jm(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function Xl(s,e,i){const a=we(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{var A;if((y||i)&&a.isPrimaryClient){const w=y?!y.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(y){l.push(y);const w=rp.As(_.targetId,y);c.push(w)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=we(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(N=>$.forEach(N.Es,(B=>A.persistence.referenceDelegate.addReference(w,N.targetId,B))).next((()=>$.forEach(N.ds,(B=>A.persistence.referenceDelegate.removeReference(w,N.targetId,B)))))))))}catch(w){if(!go(w))throw w;re(ap,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const B=A.Ms.get(N),J=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,W)}}})(a.localStore,c))}async function lN(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){re(mp,"User change. New user:",e.toKey());const a=await EE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function uN(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function UE(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=GR.bind(null,e.eventManager),e.Pu.yu=QR.bind(null,e.eventManager),e}function cN(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hR(this.persistence,new lR,e.initialUser,this.serializer)}Cu(e){return new vE(sp.mi,this.serializer)}Du(e){return new _R}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class hN extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new vE((a=>oh.mi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>y0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qR})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),a=(function(c){return new SR(c)})(e.databaseInfo);return(function(c,d,g,_){return new CR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new NR(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>y0(this.syncEngine,i,0)),(function(){return h0.v()?new h0:new vR})())}createSyncEngine(e,i){return(function(l,c,d,g,_,y,A){const w=new ZR(l,c,d,g,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=we(l);re(na,"RemoteStore shutting down."),c.Ea.add(5),await Yl(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class dN{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),re(fr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await EE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function v0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await mN(s);re(fr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>d0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>d0(e.remoteStore,l))),s._onlineComponents=e}async function mN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(fr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new uh)}}else re(fr,"Using default OfflineComponentProvider"),await Jd(s,new hN(void 0));return s._offlineComponents}async function LE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(fr,"Using user provided OnlineComponentProvider"),await v0(s,s._uninitializedComponentsProvider._online)):(re(fr,"Using default OnlineComponentProvider"),await v0(s,new xm))),s._onlineComponents}function pN(s){return LE(s).then((e=>e.syncEngine))}async function E0(s){const e=await LE(s),i=e.eventManager;return i.onListen=JR.bind(null,e.syncEngine),i.onUnlisten=tN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",b0=!0;class S0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=b0}else this.host=e.host,this.ssl=e.ssl??b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GC)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _x;switch(a.type){case"firstParty":return new bx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=T0.get(i);a&&(re("ComponentProvider","Removing Datastore"),T0.delete(i),a.terminate())})(this),Promise.resolve()}}function gN(s,e,i,a={}){var y;s=di(s,Ih);const l=co(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(z0(`https://${g}`),B0("Firestore",!0)),c.host!==zE&&c.host!==g&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Jr(_,d)&&(s._setSettings(_),a.mockUserToken)){let A,w;if(typeof a.mockUserToken=="string")A=a.mockUserToken,w=ln.MOCK_USER;else{A=qS(a.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ln(N)}s._authCredentials=new vx(new D1(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Gl(i,Ut._jsonSchema))return new Ut(e,a||null,new pe(ht.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:kt("string",Ut._jsonSchemaVersion),referencePath:kt("string")};class ar extends Dh{constructor(e,i,a){super(e,i,Jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new pe(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Gr(s,e,...i){if(s=Bt(s),O1("collection","path",e),s instanceof Ih){const a=ht.fromString(e,...i);return kv(a),new ar(s,null,a)}{if(!(s instanceof Ut||s instanceof ar))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return kv(a),new ar(s.firestore,null,a)}}function Xn(s,e,...i){if(s=Bt(s),arguments.length===1&&(e=Gm.newId()),O1("doc","path",e),s instanceof Ih){const a=ht.fromString(e,...i);return jv(a),new Ut(s,null,new pe(a))}{if(!(s instanceof Ut||s instanceof ar))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return jv(a),new Ut(s.firestore,s instanceof ar?s.converter:null,new pe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="AsyncQueue";class w0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bE(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&re(A0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;re(A0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",x0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=hp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:x0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function x0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class dr extends Ih{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new w0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w0(e),this._firestoreClient=void 0,await e}}}function yN(s,e){const i=typeof s=="object"?s:G0(),a=typeof s=="string"?s:eh,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zS("firestore");c&&gN(l,...c)}return l}function gp(s){if(s._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_N(s),s._firestoreClient}function _N(s){var a,l,c;const e=s._freezeSettings(),i=(function(g,_,y,A){return new Px(g,_,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,PE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((a=s._app)==null?void 0:a.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new dN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(rn.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gl(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:kt("string",$n._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Gl(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:kt("string",Bi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gl(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new qi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:kt("string",qi._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class EN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(e,this.data,i,this.fieldTransforms)}}class BE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class _p{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&vN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(e)}Cc(e,i,a,l=!1){return new _p({Ac:e,methodName:i,Dc:a,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(s){const e=s._freezeSettings(),i=Ch(s._databaseId);return new TN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vp(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Ep("Data must be an object, but it was:",d,a);const g=GE(a,d);let _,y;if(c.merge)_=new Vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const N=Cm(e,w,i);if(!d.contains(N))throw new ce(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);KE(A,N)||A.push(N)}_=new Vn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new EN(new An(g),_,y)}class Mh extends yp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function HE(s,e,i,a){const l=s.Cc(1,e,i);Ep("Data must be an object, but it was:",l,a);const c=[],d=An.empty();mr(a,((_,y)=>{const A=Tp(e,_,i);y=Bt(y);const w=l.yc(A);if(y instanceof Mh)c.push(A);else{const N=Vh(y,w);N!=null&&(c.push(A),d.set(A,N))}}));const g=new Vn(c);return new BE(d,g,l.fieldTransforms)}function FE(s,e,i,a,l,c){const d=s.Cc(1,e,i),g=[Cm(e,a,i)],_=[l];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Cm(e,c[N])),_.push(c[N+1]);const y=[],A=An.empty();for(let N=g.length-1;N>=0;--N)if(!KE(y,g[N])){const B=g[N];let J=_[N];J=Bt(J);const W=d.yc(B);if(J instanceof Mh)y.push(B);else{const L=Vh(J,W);L!=null&&(y.push(B),A.set(B,L))}}const w=new Vn(y);return new BE(A,w,d.fieldTransforms)}function Vh(s,e){if(QE(s=Bt(s)))return Ep("Unsupported field value:",e,s),GE(s,e);if(s instanceof yp)return(function(a,l){if(!qE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Vh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Bt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return uC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:hE(l.serializer,a._byteString)};if(a instanceof Ut){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,g){return{mapValue:{fields:{[B1]:{stringValue:q1},[th]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Qm(a)}`)})(s,e)}function GE(s,e){const i={};return j1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(s,((a,l)=>{const c=Vh(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function QE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ft||s instanceof Bi||s instanceof $n||s instanceof Ut||s instanceof yp||s instanceof qi)}function Ep(s,e,i){if(!QE(i)||!M1(i)){const a=Qm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Cm(s,e,i){if((e=Bt(e))instanceof $l)return e._internalPath;if(typeof e=="string")return Tp(s,e);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const bN=new RegExp("[~\\*/\\[\\]]");function Tp(s,e,i){if(e.search(bN)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $l(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ce(Z.INVALID_ARGUMENT,g+s+_)}function KE(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SN extends YE{data(){return super.data()}}function XE(s,e){return typeof e=="string"?Tp(s,e):e instanceof $l?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wN{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return mr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){var a,l,c;const i=(c=(l=(a=e.fields)==null?void 0:a[th].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>wt(d.doubleValue)));return new qi(i)}convertGeoPoint(e){return new Bi(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=lr(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);Xe(yE(a),9688,{name:e});const l=new kl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Al{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends YE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:kt("string",Zr._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Fc extends Zr{data(e={}){return super.data(e)}}class to{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:xN(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:kt("string",to._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class $E extends wN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function Wd(s,e,i){s=di(s,Ut);const a=di(s.firestore,dr),l=bp(s.converter,e,i);return Zl(a,[vp(Oh(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,mn.none())])}function R0(s,e,i,...a){s=di(s,Ut);const l=di(s.firestore,dr),c=Oh(l);let d;return d=typeof(e=Bt(e))=="string"||e instanceof $l?FE(c,"updateDoc",s._key,e,i,a):HE(c,"updateDoc",s._key,e),Zl(l,[d.toMutation(s._key,mn.exists(!0))])}function Mc(s){return Zl(di(s.firestore,dr),[new wh(s._key,mn.none())])}function Vc(s,e){const i=di(s.firestore,dr),a=Xn(s),l=bp(s.converter,e);return Zl(i,[vp(Oh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,mn.exists(!1))]).then((()=>a))}function em(s,...e){var _,y,A;s=Bt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||C0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(C0(e[a])){const w=e[a];e[a]=(_=w.next)==null?void 0:_.bind(w),e[a+1]=(y=w.error)==null?void 0:y.bind(w),e[a+2]=(A=w.complete)==null?void 0:A.bind(w)}let c,d,g;if(s instanceof Ut)d=di(s.firestore,dr),g=Jm(s._key.path),c={next:w=>{e[a]&&e[a](CN(d,s,w))},error:e[a+1],complete:e[a+2]};else{const w=di(s,Dh);d=di(w.firestore,dr),g=w._query;const N=new $E(d);c={next:B=>{e[a]&&e[a](new to(d,N,w,B))},error:e[a+1],complete:e[a+2]},AN(s._query)}return(function(N,B,J,W){const L=new fN(W),ae=new KR(B,L,J);return N.asyncQueue.enqueueAndForget((async()=>HR(await E0(N),ae))),()=>{L.Nu(),N.asyncQueue.enqueueAndForget((async()=>FR(await E0(N),ae)))}})(gp(d),g,l,c)}function Zl(s,e){return(function(a,l){const c=new $r;return a.asyncQueue.enqueueAndForget((async()=>iN(await pN(a),l,c))),c.promise})(gp(s),e)}function CN(s,e,i){const a=i.docs.get(e._key),l=new $E(s);return new Zr(s,l,e._key,a,new Al(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Oh(e)}set(e,i,a){this._verifyNotCommitted();const l=tm(e,this._firestore),c=bp(l.converter,i,a),d=vp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=tm(e,this._firestore);let d;return d=typeof(i=Bt(i))=="string"||i instanceof $l?FE(this._dataReader,"WriteBatch.update",c._key,i,a,l):HE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=tm(e,this._firestore);return this._mutations=this._mutations.concat(new wh(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(s,e){if((s=Bt(s)).firestore!==e)throw new ce(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(s){return gp(s=di(s,dr)),new RN(s,(e=>Zl(s,e)))}(function(e,i=!0){(function(l){mo=l})(ho),no(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new dr(new Ex(a.getProvider("auth-internal")),new Sx(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),sr(Dv,Ov,e),sr(Dv,Ov,"esm2020")})();const IN={apiKey:"AIzaSyBPiahfteqFWkiNK3sE4vovrhI__jWP0bo",authDomain:"liu-finance.firebaseapp.com",projectId:"liu-finance",storageBucket:"liu-finance.appspot.com",messagingSenderId:"946527625106",appId:"1:946527625106:web:053bf310af9639dd68ab4b"},ZE=F0(IN),nm=gx(ZE),Qt=yN(ZE),jt=s=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(s),Sp=s=>{if(!s)return"";let e=s.replace(/[^0-9kK]/g,"").toUpperCase(),i=e.slice(0,-1),a=e.slice(-1);return`${i.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${a}`},nn=({children:s,className:e=""})=>E.jsx("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${e}`,children:s}),Yt=({children:s,variant:e="primary",className:i="",...a})=>{const l="px-4 py-2 rounded-md font-semibold text-sm flex items-center justify-center gap-2 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-[#FFCC00] text-black hover:bg-yellow-400 focus:ring-[#FFCC00] shadow-sm",secondary:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"};return E.jsx("button",{className:`${l} ${c[e]} ${i}`,...a,children:s})},at=({label:s,id:e,theme:i,className:a="",...l})=>{const c={default:"bg-white border border-gray-300 rounded-md shadow-sm focus:border-[#FFCC00] focus:ring-1 focus:ring-[#FFCC00]",paper:"bg-transparent border-none focus:bg-yellow-50 focus:ring-0"};return E.jsxs("div",{className:"w-full",children:[s&&E.jsx("label",{htmlFor:e,className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:s}),E.jsx("input",{id:e,className:`w-full p-2 text-sm ${c[i]||c.default} ${a}`,...l})]})},hh=({children:s,isOpen:e,onClose:i})=>e?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:i,children:E.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:a=>a.stopPropagation(),children:s})}):null,DN=({onLogin:s})=>E.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:E.jsxs(nn,{className:"p-8 text-center max-w-sm",children:[E.jsx("div",{className:"w-16 h-16 bg-[#FFCC00] rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Nm,{size:32,className:"text-black"})}),E.jsx("h1",{className:"text-2xl font-black mb-2",children:"AgencyFinance"}),E.jsx("p",{className:"text-gray-500 mb-6",children:"Tu centro de control financiero. Inicia sesin para continuar."}),E.jsxs(Yt,{onClick:s,className:"w-full",children:[E.jsx("svg",{className:"w-4 h-4 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:E.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 23.4 172.9 61.9l-76.2 76.2c-27.3-26.1-63.5-42.1-104.1-42.1-83.2 0-151.2 67.9-151.2 151.2s68 151.2 151.2 151.2c96.5 0 133.3-67.4 137.2-101.2H248v-95.1h236.3c2.3 12.7 3.7 26.1 3.7 40.8z"})}),"Iniciar Sesin con Google"]})]})}),ON=({costs:s,settings:e,onSettingChange:i,estimatedIncome:a,onEstimatedIncomeChange:l,handleAddQuickCost:c,handleDeleteCost:d,handleImportTSV:g,handleAddAsset:_,costsLoading:y})=>{const[A,w]=Ee.useState(!1),[N,B]=Ee.useState(!1),[J,W]=Ee.useState(""),[L,ae]=Ee.useState({name:"",value:0,years:3}),[oe,he]=Ee.useState({name:"",amount:"",type:"Fijo",category:"Operativo"}),De=Ee.useMemo(()=>s.reduce((x,j)=>x+j.amount,0),[s]),He=Ee.useMemo(()=>s.filter(x=>x.type==="Fijo").reduce((x,j)=>x+j.amount,0),[s]),be=Ee.useMemo(()=>e.capacityHours>0?He/e.capacityHours:0,[He,e.capacityHours]),D=a-De,C=["Administrativo","Operativo","Tecnologa","RRHH","Ventas"];return E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsxs(nn,{className:"p-4 border-l-4 border-[#7F54F5]",children:[E.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Costos Mensuales"}),E.jsx("p",{className:"text-2xl font-black",children:jt(De)}),E.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 font-bold",children:["FIJOS: ",jt(He)]})]}),E.jsxs(nn,{className:"p-4 border-l-4 border-[#FFCC00]",children:[E.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Capacidad (Horas)"}),E.jsx("input",{type:"number",value:e.capacityHours,onChange:x=>i("capacityHours",Number(x.target.value)),className:"text-2xl font-black bg-transparent focus:outline-none w-full p-0"}),E.jsx("p",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase",children:"Horas Facturables / Mes"})]}),E.jsxs(nn,{className:"p-4 border-l-4 border-[#FD8000]",children:[E.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Costo Hora B.E.P."}),E.jsx("p",{className:"text-2xl font-black",children:jt(be)}),E.jsx("p",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase",children:"Punto de Equilibrio"})]}),E.jsxs(nn,{className:`p-4 border-l-4 ${D>=0?"border-[#7F54F5]":"border-red-500"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ingresos:"}),E.jsx("input",{type:"number",className:"text-[10px] font-bold bg-gray-50 rounded px-1 w-20 focus:outline-none",value:a,onChange:x=>l(Number(x.target.value))})]}),E.jsx("p",{className:`text-2xl font-black ${D>=0?"text-[#7F54F5]":"text-red-500"}`,children:jt(D)}),E.jsx("p",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase",children:"Proyeccin Flujo Caja"})]})]}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-[#FFCC00] rounded-lg",children:E.jsx(NS,{size:20,className:"text-black"})}),E.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Registro de Gastos"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Yt,{variant:"secondary",onClick:()=>w(!0),children:[E.jsx(eS,{size:16})," Importar"]}),E.jsxs(Yt,{variant:"secondary",onClick:()=>B(!0),children:[E.jsx(zd,{size:16})," + Activo"]})]})]}),E.jsx(nn,{className:"p-4 bg-gray-50 border-dashed border-2",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[E.jsx(at,{label:"Concepto",placeholder:"Ej: Suscripcin Adobe",value:oe.name,onChange:x=>he({...oe,name:x.target.value})}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Categora"}),E.jsx("select",{className:"w-full p-2 text-sm bg-white border border-gray-300 rounded-md",value:oe.category,onChange:x=>he({...oe,category:x.target.value}),children:C.map(x=>E.jsx("option",{value:x,children:x},x))})]}),E.jsx(at,{label:"Monto",type:"number",value:oe.amount,onChange:x=>he({...oe,amount:x.target.value})}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Tipo"}),E.jsxs("select",{className:"w-full p-2 text-sm bg-white border border-gray-300 rounded-md",value:oe.type,onChange:x=>he({...oe,type:x.target.value}),children:[E.jsx("option",{value:"Fijo",children:"Fijo"}),E.jsx("option",{value:"Variable",children:"Variable"})]})]}),E.jsxs(Yt,{onClick:()=>{c(oe),he({name:"",amount:"",type:"Fijo",category:"Operativo"})},className:"w-full",children:[E.jsx(fh,{size:16})," Aadir"]})]})}),E.jsx(nn,{className:"p-4",children:E.jsxs("table",{className:"min-w-full",children:[E.jsx("thead",{className:"border-b border-gray-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"py-3 px-3 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Concepto"}),E.jsx("th",{className:"py-3 px-3 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Categora"}),E.jsx("th",{className:"py-3 px-3 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Tipo"}),E.jsx("th",{className:"py-3 px-3 text-right text-[10px] font-bold text-gray-400 uppercase",children:"Monto"}),E.jsx("th",{className:"py-3 px-3 text-center text-[10px] font-bold text-gray-400 uppercase",children:"Accin"})]})}),E.jsxs("tbody",{children:[y&&E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-400 italic",children:"Cargando costos..."})}),s.map(x=>E.jsxs("tr",{className:"border-b border-gray-100",children:[E.jsxs("td",{className:"py-3 px-3 text-sm font-medium flex items-center gap-2",children:[x.isAsset&&E.jsx(zd,{size:14,className:"text-blue-500"}),x.name]}),E.jsx("td",{className:"py-3 px-3",children:E.jsx("span",{className:"text-[10px] font-bold px-2 py-1 bg-gray-100 text-gray-500 rounded-full uppercase",children:x.category})}),E.jsx("td",{className:"py-3 px-3",children:E.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${x.type==="Fijo"?"bg-purple-100 text-[#7F54F5]":"bg-orange-100 text-[#FD8000]"}`,children:x.type})}),E.jsx("td",{className:"py-3 px-3 text-right font-mono font-bold text-sm",children:jt(x.amount)}),E.jsx("td",{className:"py-3 px-3 text-center",children:E.jsx("button",{onClick:()=>d(x.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:E.jsx(Dl,{size:16})})})]},x.id))]})]})}),E.jsx(hh,{isOpen:A,onClose:()=>w(!1),children:E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-lg font-black uppercase mb-2",children:"Importar desde Excel/TSV"}),E.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Pega tus datos con formato: Concepto [TAB] Monto [TAB] Tipo [TAB] Categora"}),E.jsx("textarea",{className:"w-full h-48 p-3 text-xs font-mono border rounded-md focus:ring-[#FFCC00] focus:border-[#FFCC00]",placeholder:"Sueldo Juan	1200000	Fijo	RRHH",value:J,onChange:x=>W(x.target.value)}),E.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[E.jsx(Yt,{variant:"secondary",onClick:()=>w(!1),children:"Cancelar"}),E.jsx(Yt,{onClick:()=>{g(J),w(!1),W("")},children:"Procesar Carga"})]})]})}),E.jsx(hh,{isOpen:N,onClose:()=>B(!1),children:E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx(zd,{size:20,className:"text-[#FFCC00]"}),E.jsx("h3",{className:"text-lg font-black uppercase",children:"Calculadora de Activos"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(at,{label:"Nombre del Equipo",placeholder:"Ej: MacBook Pro M3",value:L.name,onChange:x=>ae({...L,name:x.target.value})}),E.jsx(at,{label:"Valor de Compra",type:"number",value:L.value,onChange:x=>ae({...L,value:Number(x.target.value)})}),E.jsx(at,{label:"Vida til (Aos)",type:"number",value:L.years,onChange:x=>ae({...L,years:Number(x.target.value)})}),E.jsxs("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-100",children:[E.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase",children:"Depreciacin Mensual Estimada:"}),E.jsx("p",{className:"text-xl font-black text-blue-700",children:jt(L.value/(L.years*12)||0)})]})]}),E.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[E.jsx(Yt,{variant:"secondary",onClick:()=>B(!1),children:"Cancelar"}),E.jsx(Yt,{onClick:()=>{_(L),ae({name:"",value:0,years:3})},children:"Agregar a Costos Fijos"})]})]})})]})},MN=({services:s,handleAddService:e,handleDeleteService:i,bepHourValue:a,servicesLoading:l})=>{const[c,d]=Ee.useState(!1),[g,_]=Ee.useState(""),[y,A]=Ee.useState({name:"",description:"",hours:1,margin:30}),w=s.filter(L=>L.name.toLowerCase().includes(g.toLowerCase())),N=y.hours*a,B=y.margin<100?N/(1-y.margin/100):0,J=()=>{e({...y,price:B}),d(!1),A({name:"",description:"",hours:1,margin:30})},W=L=>L>=50?"bg-[#FFCC00] text-black":L>=30?"bg-[#7F54F5] text-white":"bg-[#FD8000] text-white";return E.jsxs("div",{className:"p-6 bg-[#F9FAFB] min-h-screen",children:[E.jsxs(nn,{className:"p-4 mb-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-[#FFCC00] rounded-lg",children:E.jsx($b,{size:24,className:"text-black"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-black text-[#111111] uppercase tracking-tight",children:"Matriz de Servicios"}),E.jsxs("p",{className:"text-xs font-bold text-gray-500 uppercase",children:["Costo Hora Base: ",E.jsx("span",{className:"text-[#FFCC00]",children:jt(a)})]})]})]}),E.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[E.jsxs("div",{className:"relative flex-1 md:w-64",children:[E.jsx(Im,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),E.jsx("input",{type:"text",placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-md focus:ring-2 focus:ring-[#FFCC00] focus:outline-none",value:g,onChange:L=>_(L.target.value)})]}),E.jsxs(Yt,{onClick:()=>d(!0),children:[E.jsx(fh,{size:18})," Nuevo Servicio"]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l&&E.jsx("div",{className:"col-span-full text-center py-8 text-gray-400 italic",children:"Cargando servicios..."}),w.map(L=>E.jsxs(nn,{className:"relative p-5 flex flex-col h-full hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:`absolute top-4 right-4 text-[10px] font-black px-2 py-1 rounded-full uppercase ${W(L.margin)}`,children:[L.margin,"% Margen"]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-[#111111] pr-16",children:L.name}),E.jsx("p",{className:"text-sm text-[#6B7280] mt-2 line-clamp-2",children:L.description||"Sin descripcin."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Horas"}),E.jsxs("p",{className:"text-sm font-bold text-[#111111]",children:[L.hours,"h"]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Costo Interno"}),E.jsx("p",{className:"text-sm font-bold text-[#111111]",children:jt(L.hours*a)})]})]}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Precio de Venta"}),E.jsx("p",{className:"text-xl font-black text-[#7F54F5]",children:jt(L.price)})]}),E.jsx("button",{onClick:()=>i(L.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:E.jsx(Dl,{size:18})})]})]},L.id))]}),E.jsx(hh,{isOpen:c,onClose:()=>d(!1),children:E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-xl font-black text-[#111111] uppercase mb-6",children:"Nuevo Servicio"}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(at,{label:"Nombre del Servicio",placeholder:"Ej: Branding Corporativo",value:y.name,onChange:L=>A({...y,name:L.target.value})}),E.jsxs("div",{className:"w-full",children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Descripcin Corta"}),E.jsx("textarea",{className:"w-full p-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-[#FFCC00] focus:border-[#FFCC00] focus:outline-none",rows:"2",value:y.description,onChange:L=>A({...y,description:L.target.value})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(at,{label:"Horas Estimadas",type:"number",value:y.hours,onChange:L=>A({...y,hours:Number(L.target.value)})}),E.jsx(at,{label:"Margen %",type:"number",value:y.margin,onChange:L=>A({...y,margin:Number(L.target.value)})})]}),E.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-100 space-y-2",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Costo Base:"}),E.jsx("span",{className:"text-sm font-bold text-[#111111]",children:jt(N)})]}),E.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-gray-200",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase pb-1",children:"Precio Sugerido:"}),E.jsx("span",{className:"text-2xl font-black text-[#7F54F5]",children:jt(B)})]})]})]}),E.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm font-bold text-gray-500 hover:text-gray-700 transition-colors",children:"Cancelar"}),E.jsx(Yt,{onClick:J,children:"Guardar Servicio"})]})]})})]})},VN=({clients:s,handleAddClient:e,handleDeleteClient:i,quotes:a,setActiveTab:l,onNewQuoteForClient:c,clientsLoading:d})=>{const[g,_]=Ee.useState(!1),[y,A]=Ee.useState(""),[w,N]=Ee.useState({name:"",rut:"",giro:"",email:"",phone:"",address:""}),B=s.filter(L=>L.name.toLowerCase().includes(y.toLowerCase())||L.rut.toLowerCase().includes(y.toLowerCase())),J=L=>{const ae=Sp(L.target.value);N(oe=>({...oe,rut:ae}))},W=()=>{e({...w,lastTotal:0}),_(!1),N({name:"",rut:"",giro:"",email:"",phone:"",address:""})};return E.jsxs("div",{className:"p-6 bg-[#F9FAFB] min-h-screen",children:[E.jsxs(nn,{className:"p-4 mb-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-[#FFCC00] rounded-lg",children:E.jsx(M0,{size:24,className:"text-black"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-black text-[#111111] uppercase tracking-tight",children:"Gestin de Clientes"}),E.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Base de datos de clientes y su historial de cotizaciones."})]})]}),E.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[E.jsxs("div",{className:"relative flex-1 md:w-64",children:[E.jsx(Im,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),E.jsx("input",{type:"text",placeholder:"Buscar por nombre o RUT...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-md focus:ring-2 focus:ring-[#FFCC00] focus:outline-none",value:y,onChange:L=>A(L.target.value)})]}),E.jsxs(Yt,{onClick:()=>_(!0),children:[E.jsx(fh,{size:18})," Nuevo Cliente"]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d&&E.jsx("div",{className:"col-span-full text-center py-8 text-gray-400 italic",children:"Cargando clientes..."}),B.map(L=>{const ae=a.filter(oe=>{var he;return(he=oe.customer)==null?void 0:he.label.includes(L.name)});return E.jsxs(nn,{className:"p-5 flex flex-col h-full hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:E.jsx(xS,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-bold text-[#111111]",children:L.name}),E.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-[#7F54F5]/10 text-[#7F54F5] rounded-full uppercase",children:L.rut})]})]}),E.jsx("button",{onClick:()=>window.confirm("Ests seguro?")&&i(L.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1",title:"Eliminar Cliente",children:E.jsx(Dl,{size:18})})]}),E.jsxs("div",{className:"space-y-2 mb-6",children:[L.email&&E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[E.jsx(lS,{size:14})," ",L.email]}),L.phone&&E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[E.jsx(pS,{size:14})," ",L.phone]}),L.address&&E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[E.jsx(cS,{size:14})," ",L.address]})]}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"ltima Compra"}),E.jsx("p",{className:"text-sm font-black text-[#FFCC00]",children:jt(L.lastTotal||0)})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Cotizaciones"}),E.jsx("p",{className:"text-sm font-black text-[#111111]",children:ae.length})]})]}),E.jsx("div",{className:"max-h-24 overflow-y-auto bg-gray-50 rounded p-2 mb-4 space-y-1",children:ae.length>0?ae.map(oe=>E.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-gray-600",children:[E.jsx("span",{children:oe.id}),E.jsx("span",{children:jt(oe.total||0)})]},oe.id)):E.jsx("p",{className:"text-[10px] text-gray-400 italic text-center",children:"Sin historial"})}),E.jsxs(Yt,{variant:"secondary",className:"w-full",onClick:()=>{c(L),l("Cotizador")},children:[E.jsx(O0,{size:16})," Nueva Cotizacin"]})]})]},L.id)})]}),E.jsx(hh,{isOpen:g,onClose:()=>_(!1),children:E.jsxs("div",{className:"p-6 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[E.jsx(AS,{size:24,className:"text-[#FFCC00]"}),E.jsx("h3",{className:"text-xl font-black text-[#111111] uppercase",children:"Nuevo Cliente"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(at,{label:"Razn Social / Nombre",placeholder:"Ej: Inversiones Tech SpA",value:w.name,onChange:L=>N({...w,name:L.target.value}),required:!0}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(at,{label:"RUT",placeholder:"12.345.678-9",value:w.rut,onChange:J}),E.jsx(at,{label:"Giro Comercial",placeholder:"Ej: Servicios TI",value:w.giro,onChange:L=>N({...w,giro:L.target.value})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(at,{label:"Email",type:"email",placeholder:"contacto@empresa.cl",value:w.email,onChange:L=>N({...w,email:L.target.value})}),E.jsx(at,{label:"Telfono",placeholder:"+56 9 ...",value:w.phone,onChange:L=>N({...w,phone:L.target.value})})]}),E.jsx(at,{label:"Ciudad / Direccin",placeholder:"Ej: Santiago, Chile",value:w.address,onChange:L=>N({...w,address:L.target.value})})]}),E.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-bold text-gray-500 hover:text-gray-700 transition-colors",children:"Cancelar"}),E.jsx(Yt,{onClick:W,children:"Guardar Cliente"})]})]})})]})},Qa={Estndar:"Validez de la oferta: 15 das. Forma de pago: 50% anticipado, 50% contra entrega.","Desarrollo Web":"Incluye 3 meses de soporte tcnico. No incluye hosting ni dominio.","Retainer Mensual":"Servicio mensual recurrente. Facturacin los primeros 5 das de cada mes."},jN=({quotes:s,handleSaveQuote:e,handleDeleteQuote:i,handleUpdateQuote:a,clients:l,handleAddClient:c,handleUpdateClient:d,services:g,settings:_,preloadedClient:y,setPreloadedClient:A,quotesLoading:w})=>{const[N,B]=Ee.useState({id:`COT-${Math.floor(Math.random()*1e4)}`,date:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+1296e6).toISOString().split("T")[0],deliveryDate:"",status:"Borrador",terms:Qa.Estndar,items:[],customer:{name:"",rut:"",giro:"",email:"",phone:"",address:""}}),[J,W]=Ee.useState(""),[L,ae]=Ee.useState(!1),[oe,he]=Ee.useState("");Ee.useEffect(()=>{y&&(B(S=>({...S,customer:{name:y.name||"",rut:y.rut||"",giro:y.giro||"",email:y.email||"",phone:y.phone||"",address:y.address||""}})),A(null))},[y,A]),Ee.useEffect(()=>{if(!window.html2pdf){const S=document.createElement("script");S.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",S.async=!0,document.body.appendChild(S)}},[]);const De=Ee.useMemo(()=>J?l.filter(S=>S.name.toLowerCase().includes(J.toLowerCase())||S.rut.toLowerCase().includes(J.toLowerCase())||S.phone&&S.phone.includes(J)):[],[l,J]),He=()=>{const S=g.find(O=>O.id.toString()===oe);S&&(B(O=>({...O,items:[...O.items,{id:Date.now(),description:S.name,subDescription:S.description,quantity:1,price:S.price}]})),he(""))},be=Ee.useMemo(()=>{const S=N.items.reduce((qe,ot)=>qe+ot.price*ot.quantity,0),O=S*.19,R=S+O;return{subtotal:S,iva:O,total:R}},[N.items]),D=()=>{const S=l.find(O=>O.rut===N.customer.rut&&O.rut);S?d(S.id,{...N.customer,lastTotal:be.total}):N.customer.name&&N.customer.rut&&c({...N.customer,lastTotal:be.total}),e({...N,total:be.total}),alert("Cotizacin guardada y cliente actualizado.")},C=()=>{const S=document.getElementById("quote-sheet");S.classList.add("pdf-mode");const O={margin:0,filename:`${N.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf().from(S).set(O).save().then(()=>{S.classList.remove("pdf-mode")})},x=()=>{B({id:`COT-${Math.floor(Math.random()*1e4)}`,date:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+360*60*60*1e3).toISOString().split("T")[0],deliveryDate:"",status:"Borrador",terms:Qa.Estndar,items:[],customer:{name:"",rut:"",giro:"",email:"",phone:"",address:""}}),W("")},j={Borrador:"bg-gray-500",Enviado:"bg-blue-500",Aprobado:"bg-emerald-500",Rechazado:"bg-red-500"};return E.jsxs("div",{className:"p-6 bg-[#F9FAFB] min-h-screen space-y-6",children:[E.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[E.jsxs("div",{className:"w-full lg:w-1/3 space-y-6",children:[E.jsxs(nn,{className:"p-6",children:[E.jsx("h3",{className:"text-sm font-bold uppercase text-gray-500 mb-4",children:"Cargar Cliente"}),E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Im,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),E.jsx("input",{type:"text",placeholder:"Buscar por Nombre, RUT o Telfono...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-md focus:ring-2 focus:ring-[#FFCC00] focus:outline-none",value:J,onChange:S=>{W(S.target.value),ae(!0)}})]}),L&&De.length>0&&E.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-48 overflow-y-auto",children:De.map(S=>E.jsxs("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:()=>{B(O=>({...O,customer:{...S}})),W(S.name),ae(!1)},children:[E.jsx("p",{className:"text-sm font-bold",children:S.name}),E.jsxs("p",{className:"text-[10px] text-gray-500",children:[S.rut," | ",S.phone]})]},S.id))})]})]}),E.jsxs(nn,{className:"p-6",children:[E.jsx("h3",{className:"text-sm font-bold uppercase text-gray-500 mb-4",children:"Ajustes de Cotizacin"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-2",children:"Estado del Documento"}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(j).map(S=>E.jsx("button",{onClick:()=>B(O=>({...O,status:S})),className:`py-2 px-3 text-xs font-bold rounded border transition-all ${N.status===S?`${j[S]} text-white border-transparent`:"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:S},S))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Plantilla T&C"}),E.jsx("select",{className:"w-full p-2 text-sm border border-gray-200 rounded-md focus:ring-1 focus:ring-[#FFCC00]",value:Object.keys(Qa).find(S=>Qa[S]===N.terms)||"",onChange:S=>B(O=>({...O,terms:Qa[S.target.value]})),children:Object.keys(Qa).map(S=>E.jsx("option",{value:S,children:S},S))})]}),E.jsxs(Yt,{className:"w-full",onClick:D,children:[E.jsx(ES,{size:18})," Guardar y Actualizar Cliente"]})]})]})]}),E.jsxs("div",{className:"w-full lg:w-2/3 space-y-6",children:[E.jsxs(nn,{className:"p-4 flex items-center gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("select",{className:"w-full p-2 text-sm border border-gray-200 rounded-md focus:ring-1 focus:ring-[#FFCC00]",value:oe,onChange:S=>he(S.target.value),children:[E.jsx("option",{value:"",children:"Seleccionar Servicio..."}),g.map(S=>E.jsxs("option",{value:S.id,children:[S.name," - ",jt(S.price)]},S.id))]})}),E.jsxs(Yt,{onClick:He,variant:"secondary",children:[E.jsx(fh,{size:18})," Agregar"]})]}),E.jsxs("div",{id:"quote-sheet",className:"bg-white mx-auto shadow-xl p-12 min-h-[800px] relative overflow-hidden",style:{width:"210mm"},children:[E.jsxs("header",{className:"flex justify-between items-start mb-8",children:[E.jsxs("div",{className:"space-y-2",children:[_.logoUrl&&E.jsx("img",{src:_.logoUrl,alt:"Logo",className:"h-16 object-contain"}),E.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-bold leading-tight",children:[E.jsx("p",{className:"text-sm text-black font-black",children:_.companyName}),E.jsxs("p",{children:["RUT: ",_.rut]}),E.jsx("p",{children:_.address}),E.jsxs("p",{children:[_.email," | ",_.phone]})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("h1",{className:"text-4xl font-black text-gray-200 mb-4 uppercase tracking-tighter",children:"Presupuesto"}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-end items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"N:"}),E.jsx("input",{className:"text-right font-bold text-sm bg-transparent border-none p-0 focus:ring-0 w-24",value:N.id,onChange:S=>B(O=>({...O,id:S.target.value}))})]}),E.jsxs("div",{className:"flex justify-end items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Fecha:"}),E.jsx("span",{className:"text-right text-sm",children:N.date})]}),E.jsxs("div",{className:"flex justify-end items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Vencimiento:"}),E.jsx("input",{type:"date",className:"text-right text-xs bg-transparent border-none p-0 focus:ring-0",value:N.expiryDate,onChange:S=>B(O=>({...O,expiryDate:S.target.value}))})]})]})]})]}),E.jsxs("section",{className:"bg-gray-50 p-6 rounded-lg mb-8 grid grid-cols-2 gap-x-8 gap-y-4",children:[E.jsx(at,{theme:"paper",label:"Razn Social",value:N.customer.name,onChange:S=>B(O=>({...O,customer:{...O.customer,name:S.target.value}}))}),E.jsx(at,{theme:"paper",label:"RUT",value:N.customer.rut,onChange:S=>B(O=>({...O,customer:{...O.customer,rut:Sp(S.target.value)}}))}),E.jsx(at,{theme:"paper",label:"Giro",value:N.customer.giro,onChange:S=>B(O=>({...O,customer:{...O.customer,giro:S.target.value}}))}),E.jsx(at,{theme:"paper",label:"Email",value:N.customer.email,onChange:S=>B(O=>({...O,customer:{...O.customer,email:S.target.value}}))}),E.jsx(at,{theme:"paper",label:"Telfono",value:N.customer.phone,onChange:S=>B(O=>({...O,customer:{...O.customer,phone:S.target.value}}))}),E.jsx(at,{theme:"paper",label:"Direccin",value:N.customer.address,onChange:S=>B(O=>({...O,customer:{...O.customer,address:S.target.value}}))}),E.jsx("div",{className:"col-span-2",children:E.jsx(at,{theme:"paper",label:"Fecha de Entrega Estimada",type:"date",value:N.deliveryDate,onChange:S=>B(O=>({...O,deliveryDate:S.target.value}))})})]}),E.jsxs("table",{className:"w-full mb-8",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b-2 border-gray-100",children:[E.jsx("th",{className:"py-3 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Descripcin"}),E.jsx("th",{className:"py-3 text-center text-[10px] font-bold text-gray-400 uppercase w-20",children:"Cant."}),E.jsx("th",{className:"py-3 text-right text-[10px] font-bold text-gray-400 uppercase w-32",children:"Unitario"}),E.jsx("th",{className:"py-3 text-right text-[10px] font-bold text-gray-400 uppercase w-32",children:"Total"}),E.jsx("th",{className:"w-8 no-print"})]})}),E.jsx("tbody",{children:N.items.map((S,O)=>E.jsxs("tr",{className:"border-b border-gray-50 group",children:[E.jsxs("td",{className:"py-4",children:[E.jsx("p",{className:"font-bold text-sm",children:S.description}),E.jsx("p",{className:"text-[10px] text-gray-500",children:S.subDescription})]}),E.jsx("td",{className:"py-4 text-center",children:E.jsx("input",{type:"number",className:"w-12 text-center text-sm bg-transparent border-none p-0 focus:ring-0 font-bold",value:S.quantity,onChange:R=>{const qe=[...N.items];qe[O].quantity=Number(R.target.value),B(ot=>({...ot,items:qe}))}})}),E.jsx("td",{className:"py-4 text-right text-sm font-medium",children:jt(S.price)}),E.jsx("td",{className:"py-4 text-right text-sm font-bold",children:jt(S.price*S.quantity)}),E.jsx("td",{className:"py-4 text-right no-print",children:E.jsx("button",{className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",onClick:()=>{B(R=>({...R,items:R.items.filter(qe=>qe.id!==S.id)}))},children:E.jsx(Dl,{size:14})})})]},S.id))})]}),E.jsx("div",{className:"flex justify-end mb-12",children:E.jsxs("div",{className:"w-64 space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[E.jsx("span",{children:"Subtotal"}),E.jsx("span",{children:jt(be.subtotal)})]}),E.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[E.jsx("span",{children:"IVA (19%)"}),E.jsx("span",{children:jt(be.iva)})]}),E.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-gray-200",children:[E.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400 pb-1",children:"Total"}),E.jsx("span",{className:"text-2xl font-black text-[#111111]",children:jt(be.total)})]})]})}),E.jsxs("footer",{className:"border-t border-gray-100 pt-6",children:[E.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Trminos y Condiciones"}),E.jsx("textarea",{className:"w-full text-[10px] text-gray-500 bg-transparent border-none p-0 focus:ring-0 resize-none h-24",value:N.terms,onChange:S=>B(O=>({...O,terms:S.target.value}))})]})]}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsxs(Yt,{variant:"secondary",onClick:x,children:[E.jsx(_S,{size:18})," Nuevo"]}),E.jsxs(Yt,{onClick:C,children:[E.jsx(iS,{size:18})," Descargar PDF"]})]})]})]}),E.jsxs(nn,{className:"overflow-hidden",children:[E.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:E.jsx("h2",{className:"text-sm font-bold uppercase text-gray-500",children:"Historial de Presupuestos"})}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full",children:[E.jsx("thead",{className:"bg-white border-b border-gray-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"py-3 px-6 text-left text-[10px] font-bold text-gray-400 uppercase",children:"N Folio"}),E.jsx("th",{className:"py-3 px-6 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Cliente"}),E.jsx("th",{className:"py-3 px-6 text-left text-[10px] font-bold text-gray-400 uppercase",children:"Fecha"}),E.jsx("th",{className:"py-3 px-6 text-right text-[10px] font-bold text-gray-400 uppercase",children:"Total"}),E.jsx("th",{className:"py-3 px-6 text-center text-[10px] font-bold text-gray-400 uppercase",children:"Estado"}),E.jsx("th",{className:"py-3 px-6 text-center text-[10px] font-bold text-gray-400 uppercase",children:"Acciones"})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[w&&E.jsx("tr",{children:E.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-400 italic",children:"Cargando cotizaciones..."})}),s.map(S=>{var O;return E.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[E.jsx("td",{className:"py-4 px-6 text-sm font-bold",children:S.id}),E.jsx("td",{className:"py-4 px-6 text-sm",children:(O=S.customer)==null?void 0:O.name}),E.jsx("td",{className:"py-4 px-6 text-sm",children:S.date}),E.jsx("td",{className:"py-4 px-6 text-right text-sm font-bold",children:jt(S.total)}),E.jsx("td",{className:"py-4 px-6 text-center",children:E.jsx("select",{className:`text-[10px] font-bold px-2 py-1 rounded-full border-none focus:ring-0 cursor-pointer ${S.status==="Borrador"?"bg-gray-100 text-gray-600":S.status==="Enviado"?"bg-blue-100 text-blue-600":S.status==="Aprobado"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,value:S.status,onChange:R=>{a(S.id,{status:R.target.value})},children:Object.keys(j).map(R=>E.jsx("option",{value:R,children:R},R))})}),E.jsx("td",{className:"py-4 px-6 text-center",children:E.jsxs("div",{className:"flex justify-center gap-2",children:[E.jsx("button",{className:"p-1 text-gray-400 hover:text-[#FFCC00] transition-colors",onClick:()=>{var R;B({...S}),W(((R=S.customer)==null?void 0:R.name)||""),window.scrollTo({top:0,behavior:"smooth"})},children:E.jsx(dS,{size:16})}),E.jsx("button",{className:"p-1 text-gray-400 hover:text-red-500 transition-colors",onClick:()=>window.confirm("Seguro?")&&i(S.id),children:E.jsx(Dl,{size:16})})]})})]},S.id)})]})]})})]}),E.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
        }
        .pdf-mode .no-print { display: none !important; }
        .pdf-mode { box-shadow: none !important; margin: 0 !important; }
        .pdf-mode input, .pdf-mode textarea { border: none !important; outline: none !important; }
      `})]})},kN=()=>E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs(nn,{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Grfico Punto de Equilibrio"}),E.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center rounded-md mt-4",children:E.jsx("p",{className:"text-gray-500",children:"// TODO: Implementar visualizacin SVG custom"})})]}),E.jsxs(nn,{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Flujo de Caja (12 Meses)"}),E.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center rounded-md mt-4",children:E.jsx("p",{className:"text-gray-500",children:"// TODO: Implementar grfico de barras SVG"})})]})]}),N0=[{name:"Finanzas",icon:Nm,component:ON},{name:"Servicios",icon:Kb,component:MN},{name:"Clientes",icon:M0,component:VN},{name:"Cotizador",icon:O0,component:jN},{name:"Anlisis",icon:Jb,component:kN}];function UN(){var mi;const[s,e]=Ee.useState(null),[i,a]=Ee.useState(!0),[l,c]=Ee.useState({costs:!0,settings:!0,services:!0,clients:!0,quotes:!0}),[d,g]=Ee.useState({companyName:"Tu Agencia SpA",rut:"76.123.456-7",address:"Av. Ejemplo 123, Santiago",logoUrl:"",brandColor:"#FFCC00",email:"contacto@tuagencia.cl",phone:"+56 9 1234 5678",capacityHours:160}),[_,y]=Ee.useState([]),[A,w]=Ee.useState(5e6),[N,B]=Ee.useState([]),[J,W]=Ee.useState([]),[L,ae]=Ee.useState([]);Ee.useEffect(()=>{const ne=sw(nm,fe=>{e(fe),a(!1)});return()=>ne()},[]),Ee.useEffect(()=>{if(!s){y([]),c(Ce=>({...Ce,costs:!1}));return}c(Ce=>({...Ce,costs:!0}));const ne=Gr(Qt,"users",s.uid,"costs"),fe=em(ne,Ce=>{const We=Ce.docs.map(qt=>({...qt.data(),id:qt.id}));y(We),c(qt=>({...qt,costs:!1}))},Ce=>{console.error("Error al obtener costos:",Ce),c(We=>({...We,costs:!1}))});return()=>fe()},[s]),Ee.useEffect(()=>{if(!s){B([]),W([]),ae([]),c(Ce=>({...Ce,services:!1,clients:!1,quotes:!1}));return}const fe=Object.entries({services:{setter:B,loaderKey:"services"},clients:{setter:W,loaderKey:"clients"},quotes:{setter:ae,loaderKey:"quotes"}}).map(([Ce,{setter:We,loaderKey:qt}])=>{c(pn=>({...pn,[qt]:!0}));const jn=Gr(Qt,"users",s.uid,Ce);return em(jn,pn=>{const Zn=pn.docs.map(st=>({...st.data(),id:st.id}));We(Zn),c(st=>({...st,[qt]:!1}))},pn=>{console.error(`Error al obtener ${Ce}:`,pn),c(Zn=>({...Zn,[qt]:!1}))})});return()=>fe.forEach(Ce=>Ce())},[s]),Ee.useEffect(()=>{if(!s){g({companyName:"Tu Agencia SpA",rut:"76.123.456-7",address:"Av. Ejemplo 123, Santiago",logoUrl:"",brandColor:"#FFCC00",email:"contacto@tuagencia.cl",phone:"+56 9 1234 5678",capacityHours:160}),w(5e6),c(Ce=>({...Ce,settings:!1}));return}c(Ce=>({...Ce,settings:!0}));const ne=Xn(Qt,"users",s.uid,"settings","main");return em(ne,Ce=>{if(Ce.exists()){const We=Ce.data();We.settings&&g(qt=>({...qt,...We.settings})),We.estimatedIncome&&w(We.estimatedIncome)}c(We=>({...We,settings:!1}))},Ce=>{console.error("Error fetching settings:",Ce),c(We=>({...We,settings:!1}))})},[s]);const oe=async()=>{const ne=new hs;try{await ww(nm,ne)}catch(fe){console.error("Error durante el inicio de sesin:",fe)}},he=async()=>{await rw(nm)},De=async ne=>{if(!ne.name||!ne.amount||!s)return;const fe=Gr(Qt,"users",s.uid,"costs");await Vc(fe,{name:ne.name,amount:Number(ne.amount),type:ne.type,category:ne.category})},He=async ne=>{if(!s)return;const fe=Xn(Qt,"users",s.uid,"costs",ne);await Mc(fe)},be=async ne=>{if(!s)return;const fe=ne.split(`
`).filter(Boolean);if(fe.length===0)return;const Ce=Gr(Qt,"users",s.uid,"costs"),We=NN(Qt);fe.forEach(qt=>{const[jn,pn,Zn,st]=qt.split("	");if(jn&&pn){const Et={name:jn,amount:Number(pn.replace(/[^0-9]/g,"")),type:Zn||"Fijo",category:st||"General"},pi=Xn(Ce);We.set(pi,Et)}}),await We.commit()},D=async ne=>{if(!s||!ne.name||!ne.value)return;const fe=ne.value/(ne.years*12),Ce=Gr(Qt,"users",s.uid,"costs");await Vc(Ce,{name:`Depreciacin: ${ne.name}`,amount:Math.round(fe),type:"Fijo",category:"Tecnologa",isAsset:!0})},C=async ne=>{if(!s)return;g(ne);const fe=Xn(Qt,"users",s.uid,"settings","main");await Wd(fe,{settings:ne},{merge:!0})},x=async ne=>{if(!s)return;w(ne);const fe=Xn(Qt,"users",s.uid,"settings","main");await Wd(fe,{estimatedIncome:ne},{merge:!0})},j=async ne=>{if(!s||!ne.name)return;const{id:fe,...Ce}=ne;await Vc(Gr(Qt,"users",s.uid,"services"),Ce)},S=async ne=>{s&&await Mc(Xn(Qt,"users",s.uid,"services",ne))},O=async ne=>{if(!s||!ne.name)return;const{id:fe,...Ce}=ne;await Vc(Gr(Qt,"users",s.uid,"clients"),Ce)},R=async ne=>{s&&await Mc(Xn(Qt,"users",s.uid,"clients",ne))},qe=async(ne,fe)=>{s&&await R0(Xn(Qt,"users",s.uid,"clients",ne),fe)},ot=async ne=>{if(!s)return;const{id:fe,...Ce}=ne;await Wd(Xn(Qt,"users",s.uid,"quotes",fe),Ce,{merge:!0})},G=async ne=>{s&&await Mc(Xn(Qt,"users",s.uid,"quotes",ne))},ie=async(ne,fe)=>{s&&await R0(Xn(Qt,"users",s.uid,"quotes",ne),fe)},de=Ee.useMemo(()=>{const ne=_.filter(fe=>fe.type==="Fijo").reduce((fe,Ce)=>fe+Ce.amount,0);return d.capacityHours>0?ne/d.capacityHours:0},[_,d.capacityHours]),[Oe,Fe]=Ee.useState("Finanzas"),[V,Y]=Ee.useState(null),[te,se]=Ee.useState(!1),_e=(mi=N0.find(ne=>ne.name===Oe))==null?void 0:mi.component,[ge,xe]=Ee.useState(d);Ee.useEffect(()=>{te&&xe(d)},[te,d]);const vt={Finanzas:{costs:_,settings:d,onSettingChange:(ne,fe)=>C({...d,[ne]:fe}),estimatedIncome:A,onEstimatedIncomeChange:x,handleAddQuickCost:De,handleDeleteCost:He,handleImportTSV:be,handleAddAsset:D,costsLoading:l.costs},Servicios:{services:N,handleAddService:j,handleDeleteService:S,bepHourValue:de,servicesLoading:l.services},Clientes:{clients:J,handleAddClient:O,handleDeleteClient:R,quotes:L,setActiveTab:Fe,onNewQuoteForClient:Y,clientsLoading:l.clients},Cotizador:{quotes:L,handleSaveQuote:ot,handleDeleteQuote:G,handleUpdateQuote:ie,clients:J,handleAddClient:O,handleUpdateClient:qe,services:N,settings:d,preloadedClient:V,setPreloadedClient:Y,quotesLoading:l.quotes},Anlisis:{costs:_,quotes:L,services:N}};return i||s&&Object.values(l).some(Boolean)?E.jsx("div",{className:"flex items-center justify-center min-h-screen",children:E.jsx("p",{className:"font-bold text-gray-500",children:"Cargando aplicacin..."})}):s?E.jsxs("div",{className:"w-full min-h-screen bg-gray-100 font-sans",children:[E.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[E.jsxs("div",{className:"flex justify-between items-center px-6 h-16",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-[#FFCC00] rounded-md flex items-center justify-center",children:E.jsx(Nm,{size:18,className:"text-black"})}),E.jsx("span",{className:"font-bold text-lg",children:"AgencyFinance"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-sm font-bold",children:s.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:s.email})]}),E.jsx("button",{onClick:he,title:"Cerrar Sesin",className:"p-2 rounded-full text-gray-400 hover:bg-red-50 hover:text-red-500 transition-all",children:E.jsx(aS,{size:18})}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>se(!te),className:`p-2 rounded-full transition-all ${te?"bg-[#111111] text-[#FFCC00]":"bg-transparent text-gray-400 hover:text-gray-600"}`,children:E.jsx(tv,{size:18})}),te&&E.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(tv,{size:16,className:"text-gray-500"}),E.jsx("h4",{className:"font-bold text-sm text-[#111111]",children:"Datos de mi Agencia"})]}),E.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(DS,{size:18})})]}),E.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Identidad Visual"}),E.jsx("div",{className:"flex-1 h-px bg-gray-100"})]}),E.jsx(at,{label:"Logo URL",placeholder:"https://...",value:ge.logoUrl,onChange:ne=>xe(fe=>({...fe,logoUrl:ne.target.value}))}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Color Marca"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("div",{className:"w-10 h-10 rounded border border-gray-200 shadow-sm",style:{backgroundColor:ge.brandColor}}),E.jsx("input",{type:"color",value:ge.brandColor,onChange:ne=>xe(fe=>({...fe,brandColor:ne.target.value})),className:"flex-1 h-10 p-1 bg-white border border-gray-300 rounded cursor-pointer"})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Datos de la Empresa"}),E.jsx("div",{className:"flex-1 h-px bg-gray-100"})]}),E.jsx(at,{label:"Nombre Fantasa",value:ge.companyName,onChange:ne=>xe(fe=>({...fe,companyName:ne.target.value}))}),E.jsx(at,{label:"RUT Empresa",value:ge.rut,onChange:ne=>xe(fe=>({...fe,rut:Sp(ne.target.value)}))}),E.jsx(at,{label:"Direccin",value:ge.address,onChange:ne=>xe(fe=>({...fe,address:ne.target.value}))}),E.jsx(at,{label:"Email Contacto",type:"email",value:ge.email,onChange:ne=>xe(fe=>({...fe,email:ne.target.value}))}),E.jsx(at,{label:"Telfono / WhatsApp",value:ge.phone,onChange:ne=>xe(fe=>({...fe,phone:ne.target.value}))})]})]}),E.jsx("div",{className:"p-4 border-t border-gray-100",children:E.jsx(Yt,{className:"w-full",onClick:()=>{C(ge),se(!1)},children:"Guardar"})})]})]})]})]}),E.jsx("nav",{className:"px-6",children:E.jsx("div",{className:"flex space-x-6",children:N0.map(ne=>E.jsxs("button",{onClick:()=>Fe(ne.name),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm focus:outline-none ${Oe===ne.name?"border-[#FFCC00] text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[E.jsx(ne.icon,{size:16}),ne.name]},ne.name))})})]}),E.jsx("main",{children:_e&&E.jsx(_e,{...vt[Oe]})})]}):E.jsx(DN,{onLogin:oe})}const JE=document.getElementById("root");if(!JE)throw new Error("Could not find root element to mount to");const LN=zb.createRoot(JE);LN.render(E.jsx(Ob.StrictMode,{children:E.jsx(UN,{})}));
